<!DOCTYPE html>
<!-- saved from url=(0072)https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html -->
<html lang="cn" class=" "><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>概述 | 微信开放文档</title>
    
    <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">
  <link rel="shortcut icon" type="image/x-icon" href="https://res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico">
  <link rel="mask-icon" color="#4C4C4C" href="https://res.wx.qq.com/a/wx_fed/assets/res/MjliNWVm.svg">
  <link rel="apple-touch-icon-precomposed" href="https://res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png">
    
    <link rel="preload" href="./概述 _ 微信开放文档_files/0.styles.4af62904.css" as="style"><link rel="preload" href="./概述 _ 微信开放文档_files/app.89ed4c9a.js" as="script"><link rel="preload" href="./概述 _ 微信开放文档_files/428.e72fff44.js" as="script">
    <link rel="stylesheet" href="./概述 _ 微信开放文档_files/0.styles.4af62904.css">
  <script charset="utf-8" src="./概述 _ 微信开放文档_files/1257.eeec7b08.js"></script><script charset="utf-8" src="./概述 _ 微信开放文档_files/428.e72fff44.js"></script><script charset="utf-8" src="./概述 _ 微信开放文档_files/388.12f18fb6.js"></script><script charset="utf-8" src="./概述 _ 微信开放文档_files/455.8ad3ffc0.js"></script><script charset="utf-8" src="./概述 _ 微信开放文档_files/452.b16d4165.js"></script><meta name="description" content="微信开发者平台文档"></head>
  <body class="forbid_scroll">
    <div id="app"><div class="theme-container fixed"><div class="theme-container"><header class="navbar navbar_with-link"><div class="navbar__left"><a href="https://developers.weixin.qq.com/doc/" class="home-link router-link-active"><div class="logo__wrp"><span class="logo__icon"></span></div></a> <span class="dot"></span> <div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">公众号</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" class="nav-link external">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/minigame/dev/guide/" class="nav-link external">
  小游戏
</a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/doc/ministore/minishopquickstart/introduction.html" class="nav-link external">
  小商店
</a></li><li class="dropdown-item selected"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Overview.html" class="nav-link external">
  公众号
</a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/doc/aispeech/platform/INTRODUCTION.html" class="nav-link external">
  智能对话
</a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/doc/oplatform/Mobile_App/Resource_Center_Homepage.html" class="nav-link external">
  开放平台
</a></li><li class="dropdown-item"><!----> <a href="https://work.weixin.qq.com/api/doc" class="nav-link external">
  企业微信
</a></li><li class="dropdown-item"><!----> <a href="https://pay.weixin.qq.com/wiki/doc/api/index.html" class="nav-link external">
  微信支付
</a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/doc/xwei/xiaowei-introduction/Introduction.html" class="nav-link external">
  腾讯小微
</a></li></ul></div></div> <div class="navbar__center"><!----></div> <div class="navbar__right"><ul class="lang-tab"><li class="lang-tab__item selected">中文</li> <li class="lang-tab__item">EN</li></ul> <div class="search__wrp"><div class="search__input"><div class="weui-desktop-search"><span class="weui-desktop-form__input-wrp"><span class="weui-desktop-form__input-append-in"><button class="weui-desktop-icon-btn weui-desktop-search__btn"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.33 10.007l4.273 4.273a.502.502 0 0 1 .005.709l-.585.584a.499.499 0 0 1-.709-.004L10.046 11.3a6.278 6.278 0 1 1 1.284-1.294zm.012-3.729a5.063 5.063 0 1 0-10.127 0 5.063 5.063 0 0 0 10.127 0z"></path></svg></button></span> <input placeholder="搜索内容" type="search" value="" class="weui-desktop-form__input"></span></div> <a href="javascript:;" class="search-back__btn">取消</a></div> <div class="reco-list__wrp" style="display:none;"><ul class="reco__list"></ul> <div class="show-more"><a href="https://developers.weixin.qq.com/doc/search?query=&amp;doc_type=offiaccount&amp;jumpbackUrl=%2Fdoc%2F" class="reco-item__link">查看更多 </a></div></div> <div class="reco-list__wrp" style="display:none;"><div class="show-more"><a href="https://developers.weixin.qq.com/doc/search?query=&amp;doc_type=offiaccount&amp;jumpbackUrl=%2Fdoc%2F" class="reco-item__link">在公众号下暂无结果，查看其它业务相关内容 &gt; </a></div></div></div></div></header> <!----> <div class="mobile-links__wrp"><div class="mobile-links_mobile"><a href="javascript:;" class="mobile-links__btn">中文</a></div> <div class="mobile-links__panel"><div class="links-panel__bd"><!----></div> <div class="links-panel__ft"><ul class="lang-tab"><li class="lang-tab__item selected">中文</li> <li class="lang-tab__item">EN</li></ul></div></div> <div><div class="weui-mask" style="display:none;"></div> <div class="weui-actionsheet "><!----> <div class="weui-actionsheet__menu"><div class="weui-actionsheet__cell">中文</div><div class="weui-actionsheet__cell">EN</div></div> <div class="weui-actionsheet__action"><div class="weui-actionsheet__cell">取消</div></div></div></div></div> <a href="javascript:;" class="mobile-search-btn"></a> <div class="main-container" style="margin-top:0;"><div class="main-contontaier__bd" style="min-height: 803px;"><div class="sidebar__wrp"><div class="sidebar-cell_mobile"><li class="subnavbar__item selected"><a href="javascript:;" target="_self">公众号开发指南</a></li></div> <aside class="sidebar open" style="top: 0px;"> <div class="TreeNavigation"><div class="NavigationLevel NavigationLevel--level-0"><ul><li><div class="NavigationLevel NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Overview.html" class="NavigationItem__router-link">
      开发前必读
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Overview.html" class="NavigationItem__router-link">
      首页
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Update_log.html" class="NavigationItem__router-link">
      更新日志
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Developer_Standards.html" class="NavigationItem__router-link">
      开发者规范
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Explanation_of_interface_privileges.html" class="NavigationItem__router-link">
      接口权限说明
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Global_Return_Code.html" class="NavigationItem__router-link">
      全局返回码说明
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Getting_Started_Guide.html" class="NavigationItem__router-link">
      入门指引
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Access_Overview.html" class="NavigationItem__router-link">
      开始开发
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Access_Overview.html" class="NavigationItem__router-link">
      接入指南
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Interface_field_description.html" class="NavigationItem__router-link">
      接口域名说明
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Get_access_token.html" class="NavigationItem__router-link">
      获取Access token
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Requesting_an_API_Test_Account.html" class="NavigationItem__router-link">
      接口测试号申请
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Warning_Message_Troubleshooting_Guide.html" class="NavigationItem__router-link">
      报警排查指引
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Online_API_calls.html" class="NavigationItem__router-link">
      接口在线调试
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Get_the_WeChat_server_IP_address.html" class="NavigationItem__router-link">
      获取微信服务器IP地址
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Network_Detection.html" class="NavigationItem__router-link">
      网络检测
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Frequently_Asked_Questions.html" class="NavigationItem__router-link">
      常见问题
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Custom_Menus/Creating_Custom-Defined_Menu.html" class="NavigationItem__router-link">
      自定义菜单
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Custom_Menus/Creating_Custom-Defined_Menu.html" class="NavigationItem__router-link">
      创建接口
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Custom_Menus/Querying_Custom_Menus.html" class="NavigationItem__router-link">
      查询接口
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Custom_Menus/Deleting_Custom-Defined_Menu.html" class="NavigationItem__router-link">
      删除接口
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Custom_Menus/Custom_Menu_Push_Events.html" class="NavigationItem__router-link">
      事件推送
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Custom_Menus/Personalized_menu_interface.html" class="NavigationItem__router-link">
      个性化菜单接口
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Custom_Menus/Getting_Custom_Menu_Configurations.html" class="NavigationItem__router-link">
      获取自定义菜单配置
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Receiving_standard_messages.html" class="NavigationItem__router-link">
      消息管理
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Receiving_standard_messages.html" class="NavigationItem__router-link">
      接收普通消息
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Receiving_event_pushes.html" class="NavigationItem__router-link">
      接收事件推送
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Passive_user_reply_message.html" class="NavigationItem__router-link">
      被动回复用户消息
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Message_encryption_and_decryption_instructions.html" class="NavigationItem__router-link">
      消息加解密说明
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Service_Center_messages.html" class="NavigationItem__router-link">
      客服消息
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Batch_Sends_and_Originality_Checks.html" class="NavigationItem__router-link">
      群发接口和原创校验
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Template_Message_Interface.html" class="NavigationItem__router-link">
      模板消息接口
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/One-time_subscription_info.html" class="NavigationItem__router-link">
      一次性订阅消息
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Template_Message_Operation_Specifications.html" class="NavigationItem__router-link">
      模板消息运营规范
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/API_Call_Limits.html" class="NavigationItem__router-link">
      接口调用频次限制说明
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Message_Management/Getting_Rules_for_Auto_Replies.html" class="NavigationItem__router-link">
      获取公众号的自动回复规则
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/iOS_WKWebview.html" class="NavigationItem__router-link">
      微信网页开发
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/iOS_WKWebview.html" class="NavigationItem__router-link">
      iOS WKWebview网页开发适配指南
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html" class="NavigationItem__router-link">
      网页授权
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/web_development_style_library.html" class="NavigationItem__router-link">
      网页开发样式库
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem NavigationItem--active"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html" class="NavigationItem__router-link router-link-exact-active router-link-active">
      JS-SDK说明文档
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_Open_Tag.html" class="NavigationItem__router-link">
      开放标签说明文档
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Web_Developer_Tools.html" class="NavigationItem__router-link">
      web开发者工具
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/DarkMode.html" class="NavigationItem__router-link">
      DarkMode 适配指南
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/CloudBase.html" class="NavigationItem__router-link">
      云开发
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Asset_Management/New_temporary_materials.html" class="NavigationItem__router-link">
      素材管理
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Asset_Management/New_temporary_materials.html" class="NavigationItem__router-link">
      新增临时素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Asset_Management/Get_temporary_materials.html" class="NavigationItem__router-link">
      获取临时素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Asset_Management/Adding_Permanent_Assets.html" class="NavigationItem__router-link">
      新增永久素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Asset_Management/Getting_Permanent_Assets.html" class="NavigationItem__router-link">
      获取永久素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Asset_Management/Deleting_Permanent_Assets.html" class="NavigationItem__router-link">
      删除永久素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Asset_Management/Editing_Permanent_Rich_Media_Assets.html" class="NavigationItem__router-link">
      修改永久图文素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Asset_Management/Get_the_total_of_all_materials.html" class="NavigationItem__router-link">
      获取素材总数
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Asset_Management/Get_materials_list.html" class="NavigationItem__router-link">
      获取素材列表
    <!----></a> <!----> <!----></span></li></ul></div></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Comments_management/Image_Comments_Management_Interface.html" class="NavigationItem__router-link">
      图文消息留言管理
    <!----></a> <!----> <!----></span></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/User_Management/User_Tag_Management.html" class="NavigationItem__router-link">
      用户管理
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/User_Management/User_Tag_Management.html" class="NavigationItem__router-link">
      用户标签管理
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/User_Management/Configuring_user_notes.html" class="NavigationItem__router-link">
      设置用户备注名
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/User_Management/Get_users_basic_information_UnionID.html#UinonId" class="NavigationItem__router-link">
      获取用户基本信息(UnionID机制)
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/User_Management/Getting_a_User_List.html" class="NavigationItem__router-link">
      获取用户列表
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/User_Management/Gets_a_users_location.html" class="NavigationItem__router-link">
      获取用户地理位置
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/User_Management/Manage_blacklist.html" class="NavigationItem__router-link">
      黑名单管理
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Account_Management/Generating_a_Parametric_QR_Code.html" class="NavigationItem__router-link">
      帐号管理
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Account_Management/Generating_a_Parametric_QR_Code.html" class="NavigationItem__router-link">
      生成带参数的二维码
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Account_Management/URL_Shortener.html" class="NavigationItem__router-link">
      长链接转短链接接口
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Account_Management/Wechat_Accreditation_Event_Push.html" class="NavigationItem__router-link">
      微信认证事件推送
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Analytics/User_Analysis_Data_Interface.html" class="NavigationItem__router-link">
      数据统计
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Analytics/User_Analysis_Data_Interface.html" class="NavigationItem__router-link">
      用户分析
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Analytics/Graphic_Analysis_Data_Interface.html" class="NavigationItem__router-link">
      图文分析
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Analytics/Message_analysis_data_interface.html" class="NavigationItem__router-link">
      消息分析
    <!----></a> <!----> <!----></span></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Analytics/Ad_Analysis.html" class="NavigationItem__router-link">
      广告分析
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Analytics/Ad_Analysis.html#一、获取公众号分广告位数据（publisher-adpos-general）" class="NavigationItem__router-link">
      分广告位数据
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Analytics/Ad_Analysis.html#二、获取公众号返佣商品数据（publisher-cps-general）" class="NavigationItem__router-link">
      返佣商品数据
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Analytics/Ad_Analysis.html#三、获取公众号结算收入数据及结算主体信息（publisher-settlement）" class="NavigationItem__router-link">
      结算收入数据
    <!----></a> <!----> <!----></span></li></ul></div></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Analytics/Analytics_API.html" class="NavigationItem__router-link">
      接口分析
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/WeChat_Coupon_Interface.html" class="NavigationItem__router-link">
      微信卡券
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/WeChat_Coupon_Interface.html" class="NavigationItem__router-link">
      微信卡券接口
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Update_log.html" class="NavigationItem__router-link">
      更新日志
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Create_a_Coupon_Voucher_or_Card.html" class="NavigationItem__router-link">
      创建卡券
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Distributing_Coupons_Vouchers_and_Cards.html" class="NavigationItem__router-link">
      投放卡券
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Redeeming_a_coupon_voucher_or_card.html" class="NavigationItem__router-link">
      核销卡券
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Managing_Coupons_Vouchers_and_Cards.html" class="NavigationItem__router-link">
      管理卡券
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Coupons_Vouchers_and_Cards_Event_Push_Messages.html" class="NavigationItem__router-link">
      卡券事件推送
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Coupons-Mini_Program_Start_Up.html" class="NavigationItem__router-link">
      卡券-小程序打通
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/gift_card.html" class="NavigationItem__router-link">
      微信礼品卡
    <!----></a> <!----> <!----></span></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Membership_Cards/introduction.html" class="NavigationItem__router-link">
      会员卡专区
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Membership_Cards/introduction.html" class="NavigationItem__router-link">
      玩法介绍
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Membership_Cards/Create_a_membership_card.html" class="NavigationItem__router-link">
      创建会员卡
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Membership_Cards/Manage_Member_Card.html" class="NavigationItem__router-link">
      管理会员卡
    <!----></a> <!----> <!----></span></li></ul></div></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Special_ticket.html" class="NavigationItem__router-link">
      特殊票券
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Card_coupons_error_code.html" class="NavigationItem__router-link">
      卡券错误码
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Cards_and_Offer/Third-party_developer_mode.html" class="NavigationItem__router-link">
      第三方开发者模式
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Stores/WeChat_Store_Interface.html" class="NavigationItem__router-link">
      微信门店
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Stores/WeChat_Store_Interface.html" class="NavigationItem__router-link">
      微信门店接口
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Stores/WeChat_Shop_Miniprogram_Interface.html" class="NavigationItem__router-link">
      微信门店小程序接口
    <!----></a> <!----> <!----></span></li></ul></div></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Instant_Stores/WeChat_Store_Interface.html" class="NavigationItem__router-link">
      微信小店
    <!----></a> <!----> <!----></span></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Intelligent_Interface/Natural_Language_Processing.html" class="NavigationItem__router-link">
      智能接口
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Intelligent_Interface/Natural_Language_Processing.html" class="NavigationItem__router-link">
      语义理解
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Intelligent_Interface/AI_Open_API.html" class="NavigationItem__router-link">
      AI开放接口
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Intelligent_Interface/OCR.html" class="NavigationItem__router-link">
      OCR识别
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Intelligent_Interface/Img_Proc.html" class="NavigationItem__router-link">
      图像处理
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Connecting_devices/Introduction_to_Features.html" class="NavigationItem__router-link">
      微信设备功能
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Connecting_devices/Introduction_to_Features.html" class="NavigationItem__router-link">
      设备功能介绍
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Connecting_devices/How_to_add_new_product_type.html" class="NavigationItem__router-link">
      如何新增产品型号
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Customer_Service/Forwarding_of_messages_to_service_center.html" class="NavigationItem__router-link">
      新版客服功能
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Customer_Service/Forwarding_of_messages_to_service_center.html" class="NavigationItem__router-link">
      将消息转发到客服
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Customer_Service/Customer_Service_Management.html" class="NavigationItem__router-link">
      客服管理
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Customer_Service/Session_control.html" class="NavigationItem__router-link">
      会话控制
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Customer_Service/Obtain_chat_transcript.html" class="NavigationItem__router-link">
      获取聊天记录
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html" class="NavigationItem__router-link">
      对话能力（原导购助手）
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#产品介绍" class="NavigationItem__router-link">
      产品介绍
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#产品简介" class="NavigationItem__router-link">
      产品简介
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#运作方式" class="NavigationItem__router-link">
      运作方式
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#功能亮点" class="NavigationItem__router-link">
      功能亮点
    <!----></a> <!----> <!----></span></li></ul></div></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/Edition.html" class="NavigationItem__router-link">
      版本更新日志
    <!----></a> <!----> <!----></span></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#开通指引" class="NavigationItem__router-link">
      开通指引
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#开通条件" class="NavigationItem__router-link">
      开通条件
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#开通方式" class="NavigationItem__router-link">
      开通方式
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#能力详解" class="NavigationItem__router-link">
      能力详解
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#顾问管理" class="NavigationItem__router-link">
      顾问管理
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#客户管理" class="NavigationItem__router-link">
      客户管理
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#消息能力" class="NavigationItem__router-link">
      消息能力
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#效率工具" class="NavigationItem__router-link">
      效率工具
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#常见问题" class="NavigationItem__router-link">
      常见问题
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide.html#联系我们" class="NavigationItem__router-link">
      联系我们
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.getGuideAcct.html" class="NavigationItem__router-link">
      顾问管理
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.addGuideAcct.html" class="NavigationItem__router-link">
      添加顾问
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.getGuideAcct.html" class="NavigationItem__router-link">
      获取顾问信息
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.updateGuideAcct.html" class="NavigationItem__router-link">
      修改顾问信息
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.delGuideAcct.html" class="NavigationItem__router-link">
      删除顾问
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.getGuideAcctList.html" class="NavigationItem__router-link">
      获取服务号顾问列表
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.guideCreateQrCode.html" class="NavigationItem__router-link">
      生成顾问二维码
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.onGuideCreateQrCode.html" class="NavigationItem__router-link">
      扫顾问二维码后的事件推送
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.getGuideBuyerChatRecord.html" class="NavigationItem__router-link">
      获取顾问聊天记录
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.setGuideConfig.html" class="NavigationItem__router-link">
      设置快捷回复与关注自动回复
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.getGuideConfig.html" class="NavigationItem__router-link">
      获取快捷回复与关注自动回复
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.setGuideAcctConfig.html" class="NavigationItem__router-link">
      设置离线自动回复与敏感词
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.getGuideAcctConfig.html" class="NavigationItem__router-link">
      获取离线自动回复与敏感词
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.pushShowWxaPathMenu.html" class="NavigationItem__router-link">
      允许微信用户复制小程序页面路径
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.newGuideGroup.html" class="NavigationItem__router-link">
      新建顾问分组
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.getGuideGroupList.html" class="NavigationItem__router-link">
      获取顾问分组列表
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.getGroupInfo.html" class="NavigationItem__router-link">
      获取顾问分组信息
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.addGuide2GuideGroup.html" class="NavigationItem__router-link">
      分组内添加顾问
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.delGuide2GuideGroup.html" class="NavigationItem__router-link">
      分组内删除顾问
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.getGroupByGuide.html" class="NavigationItem__router-link">
      获取顾问所在分组
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/guide-account/shopping-guide.delGuideGroup.html" class="NavigationItem__router-link">
      删除顾问分组
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/buyer-account/shopping-guide.getGuideBuyerRelationList.html" class="NavigationItem__router-link">
      客户管理
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/buyer-account/shopping-guide.addGuideBuyerRelation.html" class="NavigationItem__router-link">
      为顾问分配客户
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/buyer-account/shopping-guide.delGuideBuyerRelation.html" class="NavigationItem__router-link">
      为顾问移除客户
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/buyer-account/shopping-guide.getGuideBuyerRelationList.html" class="NavigationItem__router-link">
      获取顾问的客户列表
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/buyer-account/shopping-guide.rebindGuideAcctForBuyer.html" class="NavigationItem__router-link">
      为客户更换顾问
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/buyer-account/shopping-guide.updateGuideBuyerRelation.html" class="NavigationItem__router-link">
      修改客户昵称
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/buyer-account/shopping-guide.getGuideBuyerRelationByBuyer.html" class="NavigationItem__router-link">
      查询客户所属顾问
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/buyer-account/shopping-guide.getGuideBuyerRelation.html" class="NavigationItem__router-link">
      查询指定顾问和客户的关系
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/tag-account/shopping-guide.newGuideTagOption.html" class="NavigationItem__router-link">
      标签管理
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/tag-account/shopping-guide.newGuideTagOption.html" class="NavigationItem__router-link">
      新建标签类型 
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/tag-account/shopping-guide.delguidetagoption.html" class="NavigationItem__router-link">
      删除标签类型 
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/tag-account/shopping-guide.addGuideTagOption.html" class="NavigationItem__router-link">
      为标签添加可选值
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/tag-account/shopping-guide.getGuideTagOption.html" class="NavigationItem__router-link">
      获取标签和可选值
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/tag-account/shopping-guide.addGuideBuyerTag.html" class="NavigationItem__router-link">
      为客户设置标签
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/tag-account/shopping-guide.getGuideBuyerTag.html" class="NavigationItem__router-link">
      查询客户标签
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/tag-account/shopping-guide.queryGuideBuyerByTag.html" class="NavigationItem__router-link">
      根据标签值筛选客户
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/tag-account/shopping-guide.delGuideBuyerTag.html" class="NavigationItem__router-link">
      删除客户标签
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/tag-account/shopping-guide.addGuideBuyerDisplayTag.html" class="NavigationItem__router-link">
      设置自定义客户信息
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/tag-account/shopping-guide.getGuideBuyerDisplayTag.html" class="NavigationItem__router-link">
      获取自定义客户信息
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/model-account/shopping-guide.setGuideCardMaterial.html" class="NavigationItem__router-link">
      素材管理
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/model-account/shopping-guide.setGuideCardMaterial.html" class="NavigationItem__router-link">
      添加小程序卡片素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/model-account/shopping-guide.getGuideCardMaterial.html" class="NavigationItem__router-link">
      查询小程序卡片素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/model-account/shopping-guide.delGuideCardMaterial.html" class="NavigationItem__router-link">
      删除小程序卡片素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/model-account/shopping-guide.setGuideImageMaterial.html" class="NavigationItem__router-link">
      添加图片素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/model-account/shopping-guide.getGuideImageMaterial.html" class="NavigationItem__router-link">
      查询图片素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/model-account/shopping-guide.delGuideImageMaterial.html" class="NavigationItem__router-link">
      删除图片素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/model-account/shopping-guide.setGuideWordMaterial.html" class="NavigationItem__router-link">
      添加文字素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/model-account/shopping-guide.getGuideWordMaterial.html" class="NavigationItem__router-link">
      查询文字素材
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/model-account/shopping-guide.delGuideWordMaterial.html" class="NavigationItem__router-link">
      删除文字素材
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/task-account/shopping-guide.addGuideMassendJob.html" class="NavigationItem__router-link">
      群发任务管理
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/task-account/shopping-guide.addGuideMassendJob.html" class="NavigationItem__router-link">
      添加群发任务
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/task-account/shopping-guide.getGuideMassendJobList.html" class="NavigationItem__router-link">
      获取群发任务列表
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/task-account/shopping-guide.getGuideMassendJob.html" class="NavigationItem__router-link">
      获取指定群发任务信息
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/task-account/shopping-guide.updateGuideMassendJob.html" class="NavigationItem__router-link">
      修改群发任务
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Shopping_Guide/task-account/shopping-guide.cancelGuideMassendJob.html" class="NavigationItem__router-link">
      取消群发任务
    <!----></a> <!----> <!----></span></li></ul></div></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Unique_Item_Code/Unique_Item_Code_Op_Guide.html" class="NavigationItem__router-link">
      微信“一物一码”
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Unique_Item_Code/Unique_Item_Code_Op_Guide.html" class="NavigationItem__router-link">
      微信“一物一码”操作指引
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Unique_Item_Code/Unique_Item_Code_API_Documentation.html" class="NavigationItem__router-link">
      一物一码接口文档
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Unique_Item_Code/Unique_Item_Code_Asked_Questions.html" class="NavigationItem__router-link">
      一物一码常见问题
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/E_Invoice/Instruction.html" class="NavigationItem__router-link">
      微信发票
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/E_Invoice/Instruction.html" class="NavigationItem__router-link">
      微信电子发票
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/E_Invoice/Instruction.html" class="NavigationItem__router-link">
      业务介绍
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/E_Invoice/Choosing_Access_Mode.html" class="NavigationItem__router-link">
      选择接入模式
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/E_Invoice/Vendor_and_Invoicing_Platform_Mode_Instruction.html" class="NavigationItem__router-link">
      “商户+开票平台”模式说明
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/E_Invoice/Self_Built_Platform_Mode_Instruction.html" class="NavigationItem__router-link">
      “自建平台”模式说明
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/E_Invoice/Reimbursing_Instruction.html" class="NavigationItem__router-link">
      报销场景说明
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/E_Invoice/Vendor_API_List.html" class="NavigationItem__router-link">
      商户接口列表
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/E_Invoice/Invoicing_Platform_API_List.html" class="NavigationItem__router-link">
      开票平台接口列表
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/E_Invoice/Reimburser_API_List.html" class="NavigationItem__router-link">
      报销方接口列表
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Quick_issuing/Introduction.html" class="NavigationItem__router-link">
      极速开发票
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Quick_issuing/Introduction.html" class="NavigationItem__router-link">
      方案介绍
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Quick_issuing/Access_Request.html" class="NavigationItem__router-link">
      接入申请
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Quick_issuing/Role_and_Process_Illustrations.html" class="NavigationItem__router-link">
      角色及流程图
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Quick_issuing/Interface_Instructions.html" class="NavigationItem__router-link">
      接口说明
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Quick_issuing/Large-sized_QR_code_designs.html" class="NavigationItem__router-link">
      二维码立牌设计
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Auto-print/Business_Introduction.html" class="NavigationItem__router-link">
      电子发票自助打印
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Auto-print/Business_Introduction.html" class="NavigationItem__router-link">
      业务介绍
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Auto-print/API_Documentation.html" class="NavigationItem__router-link">
      接口文档
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Auto-print/Design_Materials.html" class="NavigationItem__router-link">
      设计素材
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle"><span class="NavigationToggle__icon"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Nontax_Bill/Introduction.html" class="NavigationItem__router-link">
      非税票据
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Nontax_Bill/Introduction.html" class="NavigationItem__router-link">
      业务介绍
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Nontax_Bill/Access.html" class="NavigationItem__router-link">
      接入财政电子票据
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/WeChat_Invoice/Nontax_Bill/API_list.html" class="NavigationItem__router-link">
      接口列表
    <!----></a> <!----> <!----></span></li></ul></div></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Non_tax_pay/Guidelines.html" class="NavigationItem__router-link">
      微信非税缴费
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Non_tax_pay/Guidelines.html" class="NavigationItem__router-link">
      接入指引
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Non_tax_pay/API_document.html" class="NavigationItem__router-link">
      接口文档
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Non_tax_pay/Non-tax_driver_platform.html" class="NavigationItem__router-link">
      微信非税车主平台接入文档
    <!----></a> <!----> <!----></span></li></ul></div></li></ul></div></div> </aside></div> <div class="page__wrp"><main class="page"><div class="page-inner" style="min-height: 803px;"> <div id="docContent"><div class="content custom"><p><strong>目录</strong></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#0">1 概述</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#1">1.1 JSSDK使用步骤</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#2">1.1.1 步骤一：绑定域名</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#3">1.1.2 步骤二：引入JS文件</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#4">1.1.3 步骤三：通过config接口注入权限验证配置</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#5">1.1.4 步骤四：通过ready接口处理成功验证</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#6">1.1.5 步骤五：通过error接口处理失败验证</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#7">1.2 接口调用说明</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#8">2 基础接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#9">2.1 判断当前客户端版本是否支持指定JS接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#10">3 分享接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#111">3.1 自定义“分享给朋友”及“分享到QQ”按钮的分享内容</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#112">3.2 自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#11">3.3 获取“分享到朋友圈”按钮点击状态及自定义分享内容接口（即将废弃）</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#12">3.4 获取“分享给朋友”按钮点击状态及自定义分享内容接口（即将废弃）</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#13">3.5 获取“分享到QQ”按钮点击状态及自定义分享内容接口（即将废弃）</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#14">3.6 获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#15">3.7 获取“分享到QQ空间”按钮点击状态及自定义分享内容接口（即将废弃）</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#16">4 图像接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#17">4.1 拍照或从手机相册中选图接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#18">4.2 预览图片接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#19">4.3 上传图片接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#20">4.4 下载图片接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#21">4.5 获取本地图片接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#22">5 音频接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#23">5.1 开始录音接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#24">5.2 停止录音接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#25">5.3 监听录音自动停止接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#26">5.4 播放语音接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#27">5.5 暂停播放接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#28">5.6 停止播放接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#29">5.7 监听语音播放完毕接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#30">5.8 上传语音接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#31">5.9 下载语音接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#32">6 智能接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#33">6.1 识别音频并返回识别结果接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#34">7 设备信息</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#35">7.1 获取网络状态接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#36">8 地理位置</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#37">8.1 使用微信内置地图查看位置接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#38">8.2 获取地理位置接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#39">9 摇一摇周边</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#40">9.1 开启查找周边ibeacon设备接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#41">9.2 关闭查找周边ibeacon设备接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#42">9.3 监听周边ibeacon设备接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#43">10 界面操作</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#44">10.1 隐藏右上角菜单接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#">10.2 显示右上角菜单接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#">10.3 关闭当前网页窗口接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#45">10.4 批量隐藏功能按钮接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#46">10.5 批量显示功能按钮接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#47">10.6 隐藏所有非基础按钮接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#48">10.7 显示所有功能按钮接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#49">11 微信扫一扫</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#50">11.1 调起微信扫一扫接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#51">12 微信小店</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#52">12.1 跳转微信商品页接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#53">13 微信卡券</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#54">13.1 获取api_ticket</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#55">13.2 拉取适用卡券列表并获取用户选择信息</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#56">13.3 批量添加卡券接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#57">13.4 查看微信卡包中的卡券接口</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#58">14 微信支付</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#59">14.1 发起一个微信支付请求</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#60">15 快速输入</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#61">15.1 共享微信收货地址</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#62">16 附录1-JS-SDK使用权限签名算法</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#63">17 附录2-所有JS接口列表</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#64">18 附录3-所有菜单项列表</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#65">19 附录4-卡券扩展字段及签名生成算法</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#66">20 附录5-常见错误及解决方法</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#67">21 附录6-DEMO页面和示例代码</a></p> <p><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#68">22 附录7-问题反馈</a></p> <p><span id="0"></span></p> <h1 id="概述"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#概述" aria-hidden="true" class="header-anchor">#</a> <strong>概述</strong></h1> <p>微信JS-SDK是<a href="https://mp.weixin.qq.com/cgi-bin/loginpage?t=wxm2-login&amp;lang=zh_CN" target="_blank">微信公众平台</a> 面向网页开发者提供的基于微信内的网页开发工具包。</p> <p>通过使用微信JS-SDK，网页开发者可借助微信高效地使用拍照、选图、语音、位置等手机系统的能力，同时可以直接使用微信分享、扫一扫、卡券、支付等微信特有的能力，为微信用户提供更优质的网页体验。</p> <p>此文档面向网页开发者介绍微信JS-SDK如何使用及相关注意事项。</p> <p><span id="1"></span></p> <h1 id="JSSDK使用步骤"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#JSSDK使用步骤" aria-hidden="true" class="header-anchor">#</a> <strong>JSSDK使用步骤</strong></h1> <p><span id="2"></span></p> <h4 id="步骤一：绑定域名"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#步骤一：绑定域名" aria-hidden="true" class="header-anchor">#</a> <strong>步骤一：绑定域名</strong></h4> <p>先登录微信公众平台进入“公众号设置”的“功能设置”里填写“JS接口安全域名”。</p> <p>备注：登录后可在“开发者中心”查看对应的接口权限。</p> <p><span id="3"></span></p> <h4 id="步骤二：引入JS文件"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#步骤二：引入JS文件" aria-hidden="true" class="header-anchor">#</a> <strong>步骤二：引入JS文件</strong></h4> <p>在需要调用JS接口的页面引入如下JS文件，（支持https）：http://res.wx.qq.com/open/js/jweixin-1.6.0.js</p> <p>如需进一步提升服务稳定性，当上述资源不可访问时，可改访问：http://res2.wx.qq.com/open/js/jweixin-1.6.0.js （支持https）。</p> <p>备注：支持使用 AMD/CMD 标准模块加载方法加载</p> <p><span id="4"></span></p> <h4 id="步骤三：通过config接口注入权限验证配置"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#步骤三：通过config接口注入权限验证配置" aria-hidden="true" class="header-anchor">#</a> <strong>步骤三：通过config接口注入权限验证配置</strong></h4> <p>所有需要使用JS-SDK的页面必须先注入配置信息，否则将无法调用（同一个url仅需调用一次，对于变化url的SPA的web app可在每次url变化时进行调用,目前Android微信客户端不支持pushState的H5新特性，所以使用pushState来实现web app的页面会导致签名失败，此问题会在Android6.2中修复）。</p> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  debug<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。</span>
  appId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 必填，公众号的唯一标识</span>
  timestamp<span class="token punctuation">:</span> <span class="token punctuation">,</span> <span class="token comment">// 必填，生成签名的时间戳</span>
  nonceStr<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 必填，生成签名的随机串</span>
  signature<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token comment">// 必填，签名</span>
  jsApiList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 必填，需要使用的JS接口列表</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>签名算法见文末的<a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#62">附录1</a>，所有JS接口列表见文末的<a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#63">附录2</a></p> <p>注意：如果使用的是<a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/guide/staticstorage/introduction.html" target="_blank" rel="noopener noreferrer">小程序云开发静态网站托管<span></span></a>的域名的网页，可以免鉴权直接跳任意合法合规小程序，调用 wx.config 时 appId 需填入非个人主体的已认证小程序，不需计算签名，timestamp、nonceStr、signature 填入非空任意值即可。</p> <p><span id="5"></span></p> <h4 id="步骤四：通过ready接口处理成功验证"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#步骤四：通过ready接口处理成功验证" aria-hidden="true" class="header-anchor">#</a> <strong>步骤四：通过ready接口处理成功验证</strong></h4> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="6"></span></p> <h4 id="步骤五：通过error接口处理失败验证"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#步骤五：通过error接口处理失败验证" aria-hidden="true" class="header-anchor">#</a> <strong>步骤五：通过error接口处理失败验证</strong></h4> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="7"></span></p> <h3 id="接口调用说明"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#接口调用说明" aria-hidden="true" class="header-anchor">#</a> <strong>接口调用说明</strong></h3> <p>所有接口通过wx对象(也可使用jWeixin对象)来调用，参数是一个对象，除了每个接口本身需要传的参数之外，还有以下通用参数：</p> <ol><li>success：接口调用成功时执行的回调函数。</li> <li>fail：接口调用失败时执行的回调函数。</li> <li>complete：接口调用完成时执行的回调函数，无论成功或失败都会执行。</li> <li>cancel：用户点击取消时的回调函数，仅部分有用户取消操作的api才会用到。</li> <li>trigger: 监听Menu中的按钮点击时触发的方法，该方法仅支持Menu中的相关接口。</li></ol> <p>备注：不要尝试在trigger中使用ajax异步请求修改本次分享的内容，因为客户端分享操作是一个同步操作，这时候使用ajax的回包会还没有返回。</p> <p>以上几个函数都带有一个参数，类型为对象，其中除了每个接口本身返回的数据之外，还有一个通用属性errMsg，其值格式如下：</p> <p>调用成功时："xxx:ok" ，其中xxx为调用的接口名</p> <p>用户取消时："xxx:cancel"，其中xxx为调用的接口名</p> <p>调用失败时：其值为具体错误信息</p> <p><span id="8"></span></p> <h1 id="基础接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#基础接口" aria-hidden="true" class="header-anchor">#</a> <strong>基础接口</strong></h1> <p><span id="9"></span></p> <h3 id="判断当前客户端版本是否支持指定JS接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#判断当前客户端版本是否支持指定JS接口" aria-hidden="true" class="header-anchor">#</a> <strong>判断当前客户端版本是否支持指定JS接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">checkJsApi</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  jsApiList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'chooseImage'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 需要检测的JS接口列表，所有JS接口列表见附录2,</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 以键值对的形式返回，可用的api值true，不可用为false</span>
  <span class="token comment">// 如：{"checkResult":{"chooseImage":true},"errMsg":"checkJsApi:ok"}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>备注：checkJsApi接口是客户端6.0.2新引入的一个预留接口，第一期开放的接口均可不使用checkJsApi来检测。</p> <p><span id="10"></span></p> <h1 id="分享接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#分享接口" aria-hidden="true" class="header-anchor">#</a> <strong>分享接口</strong></h1> <p>请注意，不要有诱导分享等违规行为，对于诱导分享行为将永久回收公众号接口权限，详细规则请查看：<a href="https://kf.qq.com/faq/161223JfINJV1612237buYri.html" target="_blank">朋友圈管理常见问题</a></p> <p>请注意，原有的 <code>wx.onMenuShareTimeline</code>、<code>wx.onMenuShareAppMessage</code>、<code>wx.onMenuShareQQ</code>、<code>wx.onMenuShareQZone</code> 接口，即将废弃。请尽快迁移使用客户端6.7.2及JSSDK 1.4.0以上版本支持的 <code>wx.updateAppMessageShareData</code>、<code>wx.updateTimelineShareData</code>接口。</p> <p><span id="111"></span></p> <h3 id="自定义“分享给朋友”及“分享到QQ”按钮的分享内容（1-4-0）"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#自定义“分享给朋友”及“分享到QQ”按钮的分享内容（1-4-0）" aria-hidden="true" class="header-anchor">#</a> <strong>自定义“分享给朋友”及“分享到QQ”按钮的分享内容（1.4.0）</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//需在用户可能点击分享按钮前就先调用</span>
  wx<span class="token punctuation">.</span><span class="token function">updateAppMessageShareData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
    title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享标题</span>
    desc<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享描述</span>
    link<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致</span>
    imgUrl<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享图标</span>
    <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 设置成功</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><p><span id="112"></span></p> <h3 id="自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容（1-4-0）"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容（1-4-0）" aria-hidden="true" class="header-anchor">#</a> <strong>自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容（1.4.0）</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">//需在用户可能点击分享按钮前就先调用</span>
  wx<span class="token punctuation">.</span><span class="token function">updateTimelineShareData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
    title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享标题</span>
    link<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致</span>
    imgUrl<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享图标</span>
    <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 设置成功</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><p><span id="11"></span></p> <h3 id="获取“分享到朋友圈”按钮点击状态及自定义分享内容接口（即将废弃）"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#获取“分享到朋友圈”按钮点击状态及自定义分享内容接口（即将废弃）" aria-hidden="true" class="header-anchor">#</a> <strong>获取“分享到朋友圈”按钮点击状态及自定义分享内容接口（即将废弃）</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">onMenuShareTimeline</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享标题</span>
  link<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致</span>
  imgUrl<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享图标</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 用户点击了分享后执行的回调函数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><span id="12"></span></p> <h3 id="获取“分享给朋友”按钮点击状态及自定义分享内容接口（即将废弃）"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#获取“分享给朋友”按钮点击状态及自定义分享内容接口（即将废弃）" aria-hidden="true" class="header-anchor">#</a> <strong>获取“分享给朋友”按钮点击状态及自定义分享内容接口（即将废弃）</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">onMenuShareAppMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享标题</span>
  desc<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享描述</span>
  link<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致</span>
  imgUrl<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享图标</span>
  type<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享类型,music、video或link，不填默认为link</span>
  dataUrl<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 如果type是music或video，则要提供数据链接，默认为空</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 用户点击了分享后执行的回调函数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="13"></span></p> <h3 id="获取“分享到QQ”按钮点击状态及自定义分享内容接口（即将废弃）"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#获取“分享到QQ”按钮点击状态及自定义分享内容接口（即将废弃）" aria-hidden="true" class="header-anchor">#</a> <strong>获取“分享到QQ”按钮点击状态及自定义分享内容接口（即将废弃）</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">onMenuShareQQ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享标题</span>
  desc<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享描述</span>
  link<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享链接</span>
  imgUrl<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享图标</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 用户确认分享后执行的回调函数</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">cancel</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 用户取消分享后执行的回调函数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="14"></span></p> <h3 id="获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口" aria-hidden="true" class="header-anchor">#</a> <strong>获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">onMenuShareWeibo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享标题</span>
  desc<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享描述</span>
  link<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享链接</span>
  imgUrl<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享图标</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 用户确认分享后执行的回调函数</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">cancel</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 用户取消分享后执行的回调函数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="15"></span></p> <h3 id="获取“分享到QQ空间”按钮点击状态及自定义分享内容接口（即将废弃）"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#获取“分享到QQ空间”按钮点击状态及自定义分享内容接口（即将废弃）" aria-hidden="true" class="header-anchor">#</a> <strong>获取“分享到QQ空间”按钮点击状态及自定义分享内容接口（即将废弃）</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">onMenuShareQZone</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享标题</span>
  desc<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享描述</span>
  link<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享链接</span>
  imgUrl<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 分享图标</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 用户确认分享后执行的回调函数</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">cancel</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 用户取消分享后执行的回调函数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="16"></span></p> <h1 id="图像接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#图像接口" aria-hidden="true" class="header-anchor">#</a> <strong>图像接口</strong></h1> <p><span id="17"></span></p> <h3 id="拍照或从手机相册中选图接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#拍照或从手机相册中选图接口" aria-hidden="true" class="header-anchor">#</a> <strong>拍照或从手机相册中选图接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 默认9</span>
  sizeType<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'original'</span><span class="token punctuation">,</span> <span class="token string">'compressed'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 可以指定是原图还是压缩图，默认二者都有</span>
  sourceType<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'album'</span><span class="token punctuation">,</span> <span class="token string">'camera'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 可以指定来源是相册还是相机，默认二者都有</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> localIds <span class="token operator">=</span> res<span class="token punctuation">.</span>localIds<span class="token punctuation">;</span> <span class="token comment">// 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="18"></span></p> <h3 id="预览图片接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#预览图片接口" aria-hidden="true" class="header-anchor">#</a> <strong>预览图片接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">previewImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  current<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 当前显示图片的http链接</span>
  urls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 需要预览的图片http链接列表</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="19"></span></p> <h3 id="上传图片接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#上传图片接口" aria-hidden="true" class="header-anchor">#</a> <strong>上传图片接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">uploadImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  localId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 需要上传的图片的本地ID，由chooseImage接口获得</span>
  isShowProgressTips<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 默认为1，显示进度提示</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> serverId <span class="token operator">=</span> res<span class="token punctuation">.</span>serverId<span class="token punctuation">;</span> <span class="token comment">// 返回图片的服务器端ID</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>备注：上传图片有效期3天，可用微信多媒体接口下载图片到自己的服务器，此处获得的 serverId 即 media_id。</p> <p><span id="20"></span></p> <h3 id="下载图片接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#下载图片接口" aria-hidden="true" class="header-anchor">#</a> <strong>下载图片接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">downloadImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  serverId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 需要下载的图片的服务器端ID，由uploadImage接口获得</span>
  isShowProgressTips<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 默认为1，显示进度提示</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> localId <span class="token operator">=</span> res<span class="token punctuation">.</span>localId<span class="token punctuation">;</span> <span class="token comment">// 返回图片下载后的本地ID</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="21"></span></p> <h3 id="获取本地图片接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#获取本地图片接口" aria-hidden="true" class="header-anchor">#</a> <strong>获取本地图片接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">getLocalImgData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  localId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 图片的localID</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> localData <span class="token operator">=</span> res<span class="token punctuation">.</span>localData<span class="token punctuation">;</span> <span class="token comment">// localData是图片的base64数据，可以用img标签显示</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>备注：此接口仅在 iOS WKWebview 下提供，用于兼容 iOS WKWebview 不支持 localId 直接显示图片的问题。具体可参考《<a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/iOS_WKWebview">iOS WKWebview网页开发适配指南</a>》</p> <p><span id="22"></span></p> <h1 id="音频接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#音频接口" aria-hidden="true" class="header-anchor">#</a> <strong>音频接口</strong></h1> <p><span id="23"></span></p> <h3 id="开始录音接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#开始录音接口" aria-hidden="true" class="header-anchor">#</a> <strong>开始录音接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">startRecord</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="24"></span></p> <h3 id="停止录音接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#停止录音接口" aria-hidden="true" class="header-anchor">#</a> <strong>停止录音接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">stopRecord</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> localId <span class="token operator">=</span> res<span class="token punctuation">.</span>localId<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="25"></span></p> <h3 id="监听录音自动停止接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#监听录音自动停止接口" aria-hidden="true" class="header-anchor">#</a> <strong>监听录音自动停止接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">onVoiceRecordEnd</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token comment">// 录音时间超过一分钟没有停止的时候会执行 complete 回调</span>
  <span class="token function-variable function">complete</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> localId <span class="token operator">=</span> res<span class="token punctuation">.</span>localId<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="26"></span></p> <h3 id="播放语音接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#播放语音接口" aria-hidden="true" class="header-anchor">#</a> <strong>播放语音接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">playVoice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  localId<span class="token punctuation">:</span> <span class="token string">''</span> <span class="token comment">// 需要播放的音频的本地ID，由stopRecord接口获得</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="27"></span></p> <h3 id="暂停播放接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#暂停播放接口" aria-hidden="true" class="header-anchor">#</a> <strong>暂停播放接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">pauseVoice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  localId<span class="token punctuation">:</span> <span class="token string">''</span> <span class="token comment">// 需要暂停的音频的本地ID，由stopRecord接口获得</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="28"></span></p> <h3 id="停止播放接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#停止播放接口" aria-hidden="true" class="header-anchor">#</a> <strong>停止播放接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">stopVoice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  localId<span class="token punctuation">:</span> <span class="token string">''</span> <span class="token comment">// 需要停止的音频的本地ID，由stopRecord接口获得</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="29"></span></p> <h3 id="监听语音播放完毕接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#监听语音播放完毕接口" aria-hidden="true" class="header-anchor">#</a> <strong>监听语音播放完毕接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">onVoicePlayEnd</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> localId <span class="token operator">=</span> res<span class="token punctuation">.</span>localId<span class="token punctuation">;</span> <span class="token comment">// 返回音频的本地ID</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="30"></span></p> <h3 id="上传语音接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#上传语音接口" aria-hidden="true" class="header-anchor">#</a> <strong>上传语音接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">uploadVoice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  localId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 需要上传的音频的本地ID，由stopRecord接口获得</span>
  isShowProgressTips<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 默认为1，显示进度提示</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> serverId <span class="token operator">=</span> res<span class="token punctuation">.</span>serverId<span class="token punctuation">;</span> <span class="token comment">// 返回音频的服务器端ID</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>备注：上传语音有效期3天，可用微信多媒体接口下载语音到自己的服务器，此处获得的 serverId 即 media_id，参考文档 .目前多媒体文件下载接口的频率限制为10000次/天，如需要调高频率，请登录微信公众平台，在开发 - 接口权限的列表中，申请提高临时上限。</p> <img src="./概述 _ 微信开放文档_files/0" alt="" data-width="608" data-ratio="0.4605263157894737"> <p><span id="31"></span></p> <h3 id="下载语音接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#下载语音接口" aria-hidden="true" class="header-anchor">#</a> <strong>下载语音接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">downloadVoice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  serverId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 需要下载的音频的服务器端ID，由uploadVoice接口获得</span>
  isShowProgressTips<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 默认为1，显示进度提示</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> localId <span class="token operator">=</span> res<span class="token punctuation">.</span>localId<span class="token punctuation">;</span> <span class="token comment">// 返回音频的本地ID</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="32"></span></p> <h1 id="智能接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#智能接口" aria-hidden="true" class="header-anchor">#</a> <strong>智能接口</strong></h1> <p><span id="33"></span></p> <h3 id="识别音频并返回识别结果接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#识别音频并返回识别结果接口" aria-hidden="true" class="header-anchor">#</a> <strong>识别音频并返回识别结果接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">translateVoice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  localId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 需要识别的音频的本地Id，由录音相关接口获得</span>
  isShowProgressTips<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 默认为1，显示进度提示</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>translateResult<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 语音识别的结果</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="34"></span></p> <h1 id="设备信息"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#设备信息" aria-hidden="true" class="header-anchor">#</a> <strong>设备信息</strong></h1> <p><span id="35"></span></p> <h3 id="获取网络状态接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#获取网络状态接口" aria-hidden="true" class="header-anchor">#</a> <strong>获取网络状态接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">getNetworkType</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> networkType <span class="token operator">=</span> res<span class="token punctuation">.</span>networkType<span class="token punctuation">;</span> <span class="token comment">// 返回网络类型2g，3g，4g，wifi</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="36"></span></p> <h1 id="地理位置"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#地理位置" aria-hidden="true" class="header-anchor">#</a> <strong>地理位置</strong></h1> <p><span id="37"></span></p> <h3 id="使用微信内置地图查看位置接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#使用微信内置地图查看位置接口" aria-hidden="true" class="header-anchor">#</a> <strong>使用微信内置地图查看位置接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">openLocation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  latitude<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 纬度，浮点数，范围为90 ~ -90</span>
  longitude<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 经度，浮点数，范围为180 ~ -180。</span>
  name<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 位置名</span>
  address<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 地址详情说明</span>
  scale<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 地图缩放级别,整形值,范围从1~28。默认为最大</span>
  infoUrl<span class="token punctuation">:</span> <span class="token string">''</span> <span class="token comment">// 在查看位置界面底部显示的超链接,可点击跳转</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="38"></span></p> <h3 id="获取地理位置接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#获取地理位置接口" aria-hidden="true" class="header-anchor">#</a> <strong>获取地理位置接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">'wgs84'</span><span class="token punctuation">,</span> <span class="token comment">// 默认为wgs84的gps坐标，如果要返回直接给openLocation用的火星坐标，可传入'gcj02'</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> latitude <span class="token operator">=</span> res<span class="token punctuation">.</span>latitude<span class="token punctuation">;</span> <span class="token comment">// 纬度，浮点数，范围为90 ~ -90</span>
    <span class="token keyword">var</span> longitude <span class="token operator">=</span> res<span class="token punctuation">.</span>longitude<span class="token punctuation">;</span> <span class="token comment">// 经度，浮点数，范围为180 ~ -180。</span>
    <span class="token keyword">var</span> speed <span class="token operator">=</span> res<span class="token punctuation">.</span>speed<span class="token punctuation">;</span> <span class="token comment">// 速度，以米/每秒计</span>
    <span class="token keyword">var</span> accuracy <span class="token operator">=</span> res<span class="token punctuation">.</span>accuracy<span class="token punctuation">;</span> <span class="token comment">// 位置精度</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="39"></span></p> <h1 id="摇一摇周边"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#摇一摇周边" aria-hidden="true" class="header-anchor">#</a> <strong>摇一摇周边</strong></h1> <p><span id="40"></span></p> <h3 id="开启查找周边ibeacon设备接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#开启查找周边ibeacon设备接口" aria-hidden="true" class="header-anchor">#</a> <strong>开启查找周边ibeacon设备接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">startSearchBeacons</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  ticket<span class="token punctuation">:</span><span class="token string">""</span><span class="token punctuation">,</span>  <span class="token comment">//摇周边的业务ticket, 系统自动添加在摇出来的页面链接后面</span>
  <span class="token function-variable function">complete</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">argv</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//开启查找完成后的回调函数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>备注：如需接入摇一摇周边功能，请参考：申请开通摇一摇周边</p> <p><span id="41"></span></p> <h3 id="关闭查找周边ibeacon设备接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#关闭查找周边ibeacon设备接口" aria-hidden="true" class="header-anchor">#</a> <strong>关闭查找周边ibeacon设备接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">stopSearchBeacons</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">complete</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//关闭查找完成后的回调函数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="42"></span></p> <h3 id="监听周边ibeacon设备接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#监听周边ibeacon设备接口" aria-hidden="true" class="header-anchor">#</a> <strong>监听周边ibeacon设备接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">onSearchBeacons</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">complete</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">argv</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//回调函数，可以数组形式取得该商家注册的在周边的相关设备列表</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>备注：上述摇一摇周边接口使用注意事项及更多返回结果说明，请参考：摇一摇周边获取设备信息</p> <p><span id="43"></span></p> <h1 id="界面操作"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#界面操作" aria-hidden="true" class="header-anchor">#</a> <strong>界面操作</strong></h1> <p><span id="44"></span></p> <h3 id="关闭当前网页窗口接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#关闭当前网页窗口接口" aria-hidden="true" class="header-anchor">#</a> <strong>关闭当前网页窗口接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">closeWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="45"></span></p> <h3 id="批量隐藏功能按钮接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#批量隐藏功能按钮接口" aria-hidden="true" class="header-anchor">#</a> <strong>批量隐藏功能按钮接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">hideMenuItems</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  menuList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 要隐藏的菜单项，只能隐藏“传播类”和“保护类”按钮，所有menu项见附录3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="46"></span></p> <h3 id="批量显示功能按钮接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#批量显示功能按钮接口" aria-hidden="true" class="header-anchor">#</a> <strong>批量显示功能按钮接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">showMenuItems</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  menuList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 要显示的菜单项，所有menu项见附录3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="47"></span></p> <h3 id="隐藏所有非基础按钮接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#隐藏所有非基础按钮接口" aria-hidden="true" class="header-anchor">#</a> <strong>隐藏所有非基础按钮接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">hideAllNonBaseMenuItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// “基本类”按钮详见附录3</span>
</code></pre></div><p><span id="48"></span></p> <h3 id="显示所有功能按钮接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#显示所有功能按钮接口" aria-hidden="true" class="header-anchor">#</a> <strong>显示所有功能按钮接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">showAllNonBaseMenuItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="49"></span></p> <h1 id="微信扫一扫"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#微信扫一扫" aria-hidden="true" class="header-anchor">#</a> <strong>微信扫一扫</strong></h1> <p><span id="50"></span></p> <h3 id="调起微信扫一扫接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#调起微信扫一扫接口" aria-hidden="true" class="header-anchor">#</a> <strong>调起微信扫一扫接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">scanQRCode</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  needResult<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 默认为0，扫描结果由微信处理，1则直接返回扫描结果，</span>
  scanType<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"qrCode"</span><span class="token punctuation">,</span><span class="token string">"barCode"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 可以指定扫二维码还是一维码，默认二者都有</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> res<span class="token punctuation">.</span>resultStr<span class="token punctuation">;</span> <span class="token comment">// 当needResult 为 1 时，扫码返回的结果</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="51"></span></p> <h1 id="微信小店"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#微信小店" aria-hidden="true" class="header-anchor">#</a> <strong>微信小店</strong></h1> <p><span id="52"></span></p> <h3 id="跳转微信商品页接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#跳转微信商品页接口" aria-hidden="true" class="header-anchor">#</a> <strong>跳转微信商品页接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">openProductSpecificView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  productId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 商品id</span>
  viewType<span class="token punctuation">:</span> <span class="token string">''</span> <span class="token comment">// 0.默认值，普通商品详情页1.扫一扫商品详情页2.小店商品详情页</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="53"></span></p> <h1 id="微信卡券"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#微信卡券" aria-hidden="true" class="header-anchor">#</a> <strong>微信卡券</strong></h1> <p>微信卡券接口中使用的签名凭证api_ticket，与步骤三中config使用的签名凭证jsapi_ticket不同，开发者在调用微信卡券JS-SDK的过程中需依次完成两次不同的签名，并确保凭证的缓存。</p> <p><span id="54"></span></p> <h3 id="获取api-ticket"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#获取api-ticket" aria-hidden="true" class="header-anchor">#</a> <strong>获取api_ticket</strong></h3> <p>api_ticket 是用于调用微信卡券JS API的临时票据，有效期为7200 秒，通过access_token 来获取。</p> <p>开发者注意事项：</p> <ol><li><p>此用于卡券接口签名的api_ticket与步骤三中通过config接口注入权限验证配置使用的jsapi_ticket不同。</p></li> <li><p>由于获取api_ticket 的api 调用次数非常有限，频繁刷新api_ticket 会导致api调用受限，影响自身业务，开发者需在自己的服务存储与更新api_ticket。</p></li></ol> <p><strong>接口调用请求说明</strong></p> <blockquote><p>http请求方式: GET
https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=ACCESS_TOKEN&amp;type=wx_card</p></blockquote> <p><strong>参数说明</strong></p> <div class="table-wrp"><table><thead><tr><th>参数</th> <th>是否必须</th> <th>说明</th></tr></thead> <tbody><tr><td>access_token</td> <td>是</td> <td>接口调用凭证</td></tr></tbody></table></div><p><strong>返回数据</strong></p> <p><strong>数据示例：</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">"errcode"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">"errmsg"</span><span class="token operator">:</span><span class="token string">"ok"</span><span class="token punctuation">,</span>
  <span class="token property">"ticket"</span><span class="token operator">:</span><span class="token string">"bxLdikRXVbTPdHSM05e5u5sUoXNKdvsdshFKA"</span><span class="token punctuation">,</span>
  <span class="token property">"expires_in"</span><span class="token operator">:</span><span class="token number">7200</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="table-wrp"><table><thead><tr><th>参数名</th> <th>描述</th></tr></thead> <tbody><tr><td>errcode</td> <td>错误码</td></tr> <tr><td>errmsg</td> <td>错误信息</td></tr> <tr><td>ticket</td> <td>api_ticket，卡券接口中签名所需凭证</td></tr> <tr><td>expires_in</td> <td>有效时间</td></tr></tbody></table></div><p><span id="55"></span></p> <h3 id="拉取适用卡券列表并获取用户选择信息"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#拉取适用卡券列表并获取用户选择信息" aria-hidden="true" class="header-anchor">#</a> <strong>拉取适用卡券列表并获取用户选择信息</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">chooseCard</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  shopId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 门店Id</span>
  cardType<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 卡券类型</span>
  cardId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 卡券Id</span>
  timestamp<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 卡券签名时间戳</span>
  nonceStr<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 卡券签名随机串</span>
  signType<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 签名方式，默认'SHA1'</span>
  cardSign<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 卡券签名</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> cardList<span class="token operator">=</span> res<span class="token punctuation">.</span>cardList<span class="token punctuation">;</span> <span class="token comment">// 用户选中的卡券列表信息</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="table-wrp"><table><thead><tr><th>参数名</th> <th>必填</th> <th>类型</th> <th>示例值</th> <th>描述</th></tr></thead> <tbody><tr><td>shopId</td> <td>否</td> <td>string(24)</td> <td>1234</td> <td>门店ID。shopID用于筛选出拉起带有指定location_list(shopID)的卡券列表，非必填。</td></tr> <tr><td>cardType</td> <td>否</td> <td>string(24)</td> <td>GROUPON</td> <td>卡券类型，用于拉起指定卡券类型的卡券列表。当cardType为空时，默认拉起所有卡券的列表，非必填。</td></tr> <tr><td>cardId</td> <td>否</td> <td>string(32)</td> <td>p1Pj9jr90_SQRaVqYI239Ka1erk</td> <td>卡券ID，用于拉起指定cardId的卡券列表，当cardId为空时，默认拉起所有卡券的列表，非必填。</td></tr> <tr><td>timestamp</td> <td>是</td> <td>string(32)</td> <td>14300000000</td> <td>时间戳。</td></tr> <tr><td>nonceStr</td> <td>是</td> <td>string(32)</td> <td>sduhi123</td> <td>随机字符串。</td></tr> <tr><td>signType</td> <td>是</td> <td>string(32)</td> <td>SHA1</td> <td>签名方式，目前仅支持SHA1</td></tr> <tr><td>cardSign</td> <td>是</td> <td>string(64)</td> <td>abcsdijcous123</td> <td>签名。</td></tr></tbody></table></div><p><code>cardSign</code> 详见附录4。</p> <p>开发者特别注意：签名错误会导致拉取卡券列表异常为空，请仔细检查参与签名的参数有效性。</p> <p><strong>特别提醒</strong></p> <p>拉取列表仅与用户本地卡券有关，拉起列表异常为空的情况通常有三种：签名错误、时间戳无效、筛选机制有误。请开发者依次排查定位原因。</p> <p><span id="56"></span></p> <h3 id="批量添加卡券接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#批量添加卡券接口" aria-hidden="true" class="header-anchor">#</a> <strong>批量添加卡券接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">addCard</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  cardList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    cardId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    cardExt<span class="token punctuation">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 需要添加的卡券列表</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> cardList <span class="token operator">=</span> res<span class="token punctuation">.</span>cardList<span class="token punctuation">;</span> <span class="token comment">// 添加的卡券列表信息</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>cardExt</code> 详见附录4，开发者若调用接口报签名错误、已领完等异常情况可以参照：<a href="http://mp.weixin.qq.com/s/WhYpWmfuhUBw2wseTXdt2A" target="_blank">卡券签名错误排查方法</a></p> <p><span id="57"></span></p> <h3 id="查看微信卡包中的卡券接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#查看微信卡包中的卡券接口" aria-hidden="true" class="header-anchor">#</a> <strong>查看微信卡包中的卡券接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">openCard</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  cardList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    cardId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    code<span class="token punctuation">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token comment">// 需要打开的卡券列表</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><span id="58"></span></p> <h1 id="微信支付"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#微信支付" aria-hidden="true" class="header-anchor">#</a> <strong>微信支付</strong></h1> <p><span id="59"></span></p> <h3 id="发起一个微信支付请求"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#发起一个微信支付请求" aria-hidden="true" class="header-anchor">#</a> <strong>发起一个微信支付请求</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">chooseWXPay</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  timestamp<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符</span>
  nonceStr<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 支付签名随机串，不长于 32 位</span>
  <span class="token keyword">package</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\*\*\*）</span>
  signType<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'</span>
  paySign<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 支付签名</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 支付成功后的回调函数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>备注：prepay_id 通过微信支付统一下单接口拿到，paySign 采用统一的微信支付 Sign 签名生成方法，注意这里 appId 也要参与签名，appId 与 config 中传入的 appId 一致，即最后参与签名的参数有appId, timeStamp, nonceStr, package, signType。</p> <p>微信支付开发文档：<a href="https://pay.weixin.qq.com/wiki/doc/api/index.html" target="_blank">https://pay.weixin.qq.com/wiki/doc/api/index.html</a></p> <p><span id="60"></span></p> <h1 id="快速输入"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#快速输入" aria-hidden="true" class="header-anchor">#</a> <strong>快速输入</strong></h1> <p><span id="61"></span></p> <h3 id="共享收货地址接口"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#共享收货地址接口" aria-hidden="true" class="header-anchor">#</a> <strong>共享收货地址接口</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code>wx<span class="token punctuation">.</span><span class="token function">openAddress</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> userName <span class="token operator">=</span> res<span class="token punctuation">.</span>userName<span class="token punctuation">;</span> <span class="token comment">// 收货人姓名</span>
    <span class="token keyword">var</span> postalCode <span class="token operator">=</span> res<span class="token punctuation">.</span>postalCode<span class="token punctuation">;</span> <span class="token comment">// 邮编</span>
    <span class="token keyword">var</span> provinceName <span class="token operator">=</span> res<span class="token punctuation">.</span>provinceName<span class="token punctuation">;</span> <span class="token comment">// 国标收货地址第一级地址（省）</span>
    <span class="token keyword">var</span> cityName <span class="token operator">=</span> res<span class="token punctuation">.</span>cityName<span class="token punctuation">;</span> <span class="token comment">// 国标收货地址第二级地址（市）</span>
    <span class="token keyword">var</span> countryName <span class="token operator">=</span> res<span class="token punctuation">.</span>countryName<span class="token punctuation">;</span> <span class="token comment">// 国标收货地址第三级地址（国家）</span>
    <span class="token keyword">var</span> detailInfo <span class="token operator">=</span> res<span class="token punctuation">.</span>detailInfo<span class="token punctuation">;</span> <span class="token comment">// 详细收货地址信息</span>
    <span class="token keyword">var</span> nationalCode <span class="token operator">=</span> res<span class="token punctuation">.</span>nationalCode<span class="token punctuation">;</span> <span class="token comment">// 收货地址国家码</span>
    <span class="token keyword">var</span> telNumber <span class="token operator">=</span> res<span class="token punctuation">.</span>telNumber<span class="token punctuation">;</span> <span class="token comment">// 收货人手机号码</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>备注：</p> <p>微信地址共享使用的数据字段包括：</p> <ul><li>收货人姓名</li> <li>地区，省市区三级</li> <li>详细地址</li> <li>邮编</li> <li>联系电话
其中，地区对应是国标三级地区码，如“广东省-广州市-天河区”，对应的邮编是是510630。详情参考链接：http://www.stats.gov.cn/tjsj/tjbz/xzqhdm/201401/t20140116_501070.html</li></ul> <p><span id="62"></span></p> <h2 id="附录1-JS-SDK使用权限签名算法"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#附录1-JS-SDK使用权限签名算法" aria-hidden="true" class="header-anchor">#</a> <strong>附录1-JS-SDK使用权限签名算法</strong></h2> <p><strong>jsapi_ticket</strong></p> <p>生成签名之前必须先了解一下jsapi_ticket，jsapi_ticket是公众号用于调用微信JS接口的临时票据。正常情况下，jsapi_ticket的有效期为7200秒，通过access_token来获取。由于获取jsapi_ticket的api调用次数非常有限，频繁刷新jsapi_ticket会导致api调用受限，影响自身业务，开发者必须在自己的服务全局缓存jsapi_ticket 。</p> <ol><li><p>参考以下文档获取access_token（有效期7200秒，开发者必须在自己的服务全局缓存access_token）：https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Get_access_token.html</p></li> <li><p>用第一步拿到的access_token 采用http GET方式请求获得jsapi_ticket（有效期7200秒，开发者必须在自己的服务全局缓存jsapi_ticket）：https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=ACCESS_TOKEN&amp;type=jsapi</p></li></ol> <p>成功返回如下JSON：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">"errcode"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">"errmsg"</span><span class="token operator">:</span><span class="token string">"ok"</span><span class="token punctuation">,</span>
  <span class="token property">"ticket"</span><span class="token operator">:</span><span class="token string">"bxLdikRXVbTPdHSM05e5u5sUoXNKd8-41ZO3MhKoyN5OfkWITDGgnr2fwJ0m9E8NYzWKVZvdVtaUgWvsdshFKA"</span><span class="token punctuation">,</span>
  <span class="token property">"expires_in"</span><span class="token operator">:</span><span class="token number">7200</span>
<span class="token punctuation">}</span>
</code></pre></div><p>获得jsapi_ticket之后，就可以生成JS-SDK权限验证的签名了。</p> <p><strong>签名算法</strong></p> <p>签名生成规则如下：参与签名的字段包括noncestr（随机字符串）, 有效的jsapi_ticket, timestamp（时间戳）, url（当前网页的URL，不包含#及其后面部分） 。对所有待签名参数按照字段名的ASCII 码从小到大排序（字典序）后，使用URL键值对的格式（即key1=value1&amp;key2=value2…）拼接成字符串string1。这里需要注意的是所有参数名均为小写字符。对string1作sha1加密，字段名和字段值都采用原始值，不进行URL 转义。</p> <p>即signature=sha1(string1)。 示例：</p> <div class="language- extra-class"><pre class="language-text"><code>noncestr=Wm3WZYTPz0wzccnW
jsapi_ticket=sM4AOVdWfPE4DxkXGEs8VMCPGGVi4C3VM0P37wVUCFvkVAy_90u5h9nbSlYy3-Sl-HhTdfl2fzFy1AOcHKP7qg
timestamp=1414587457
url=http://mp.weixin.qq.com?params=value
</code></pre></div><p>步骤1. 对所有待签名参数按照字段名的ASCII 码从小到大排序（字典序）后，使用URL键值对的格式（即key1=value1&amp;key2=value2…）拼接成字符串string1：</p> <div class="language- extra-class"><pre class="language-text"><code>jsapi_ticket=sM4AOVdWfPE4DxkXGEs8VMCPGGVi4C3VM0P37wVUCFvkVAy_90u5h9nbSlYy3-Sl-HhTdfl2fzFy1AOcHKP7qg&amp;noncestr=Wm3WZYTPz0wzccnW&amp;timestamp=1414587457&amp;url=http://mp.weixin.qq.com?params=value
</code></pre></div><p>步骤2. 对string1进行sha1签名，得到signature：</p> <div class="language- extra-class"><pre class="language-text"><code>0f9de62fce790f9a083d5c99e95740ceb90c27ed
</code></pre></div><p>注意事项</p> <ol><li><p>签名用的noncestr和timestamp必须与wx.config中的nonceStr和timestamp相同。</p></li> <li><p>签名用的url必须是调用JS接口页面的完整URL。</p></li> <li><p>出于安全考虑，开发者必须在服务器端实现签名的逻辑。</p></li></ol> <p>如出现invalid signature 等错误详见附录5常见错误及解决办法。</p> <p><span id="63"></span></p> <h1 id="附录2-所有JS接口列表"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#附录2-所有JS接口列表" aria-hidden="true" class="header-anchor">#</a> <strong>附录2-所有JS接口列表</strong></h1> <p><strong>版本 1.6.0 接口</strong></p> <p>updateAppMessageShareData</p> <p>updateTimelineShareData</p> <p>onMenuShareTimeline（即将废弃）</p> <p>onMenuShareAppMessage（即将废弃）</p> <p>onMenuShareQQ（即将废弃）</p> <p>onMenuShareWeibo</p> <p>onMenuShareQZone</p> <p>startRecord</p> <p>stopRecord</p> <p>onVoiceRecordEnd</p> <p>playVoice</p> <p>pauseVoice</p> <p>stopVoice</p> <p>onVoicePlayEnd</p> <p>uploadVoice</p> <p>downloadVoice</p> <p>chooseImage</p> <p>previewImage</p> <p>uploadImage</p> <p>downloadImage</p> <p>translateVoice</p> <p>getNetworkType</p> <p>openLocation</p> <p>getLocation</p> <p>hideOptionMenu</p> <p>showOptionMenu</p> <p>hideMenuItems</p> <p>showMenuItems</p> <p>hideAllNonBaseMenuItem</p> <p>showAllNonBaseMenuItem</p> <p>closeWindow</p> <p>scanQRCode</p> <p>chooseWXPay</p> <p>openProductSpecificView</p> <p>addCard</p> <p>chooseCard</p> <p>openCard</p> <p><span id="64"></span></p> <h1 id="附录3-所有菜单项列表"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#附录3-所有菜单项列表" aria-hidden="true" class="header-anchor">#</a> <strong>附录3-所有菜单项列表</strong></h1> <p><strong>基本类</strong></p> <p>举报: "menuItem:exposeArticle"</p> <p>调整字体: "menuItem:setFont"</p> <p>日间模式: "menuItem:dayMode"</p> <p>夜间模式: "menuItem:nightMode"</p> <p>刷新: "menuItem:refresh"</p> <p>查看公众号（已添加）: "menuItem:profile"</p> <p>查看公众号（未添加）: "menuItem:addContact"</p> <p><strong>传播类</strong></p> <p>发送给朋友: "menuItem:share:appMessage"</p> <p>分享到朋友圈: "menuItem:share:timeline"</p> <p>分享到QQ: "menuItem:share:qq"</p> <p>分享到Weibo: "menuItem:share:weiboApp"</p> <p>收藏: "menuItem:favorite"</p> <p>分享到FB: "menuItem:share:facebook"</p> <p>分享到 QQ 空间 "menuItem:share:QZone"</p> <p><strong>保护类</strong></p> <p>编辑标签: "menuItem:editTag"</p> <p>删除: "menuItem:delete"</p> <p>复制链接: "menuItem:copyUrl"</p> <p>原网页: "menuItem:originPage"</p> <p>阅读模式: "menuItem:readMode"</p> <p>在QQ浏览器中打开: "menuItem:openWithQQBrowser"</p> <p>在Safari中打开: "menuItem:openWithSafari"</p> <p>邮件: "menuItem:share:email"</p> <p>一些特殊公众号: "menuItem:share:brand"
<span id="65"></span></p> <h1 id="附录4-卡券扩展字段及签名生成算法"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#附录4-卡券扩展字段及签名生成算法" aria-hidden="true" class="header-anchor">#</a> <strong>附录4-卡券扩展字段及签名生成算法</strong></h1> <p><strong>JSSDK使用者请读这里，JSAPI用户可以跳过</strong></p> <p>卡券签名和JSSDK的签名完全独立，两者的算法和意义完全不同，请不要混淆。JSSDK的签名是使用所有JS接口都需要走的一层鉴权，用以标识调用者的身份，和卡券本身并无关系。其次，卡券的签名考虑到协议的扩展性和简单的防数据擅改，设计了一套独立的签名协议。另外由于历史原因，卡券的JS接口先于JSSDK出现，当时的JSAPI并没有鉴权体系，所以在卡券的签名里也加上了appsecret/api_ticket这些身份信息，希望开发者理解。</p> <p><strong>卡券 api_ticket</strong></p> <p>卡券 api_ticket 是用于调用卡券相关接口的临时票据，有效期为 7200 秒，通过 access_token 来获取。这里要注意与 jsapi_ticket 区分开来。由于获取卡券 api_ticket 的 api 调用次数非常有限，频繁刷新卡券 api_ticket 会导致 api 调用受限，影响自身业务，开发者必须在自己的服务全局缓存卡券 api_ticket 。</p> <p>1.参考以下文档获取access_token（有效期7200秒，开发者必须在自己的服务全局缓存access_token）：../15/54ce45d8d30b6bf6758f68d2e95bc627.html</p> <p>2.用第一步拿到的access_token 采用http GET方式请求获得卡券 api_ticket（有效期7200秒，开发者必须在自己的服务全局缓存卡券 api_ticket）：<a href="https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=ACCESS_TOKEN&amp;type=wx_card" target="_blank">https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=ACCESS_TOKEN&amp;type=wx_card</a></p> <p><strong>卡券扩展字段cardExt说明</strong></p> <p>cardExt本身是一个JSON字符串，是商户为该张卡券分配的唯一性信息，包含以下字段：</p> <div class="table-wrp"><table><thead><tr><th>字段</th> <th>是否必填</th> <th>是否参与签名</th> <th>说明</th></tr></thead> <tbody><tr><td>code</td> <td>否</td> <td>是</td> <td>指定的卡券code码，只能被领一次。自定义code模式的卡券必须填写，非自定义code和预存code模式的卡券不必填写。详情见： 是否自定义code码</td></tr> <tr><td>openid</td> <td>否</td> <td>是</td> <td>指定领取者的openid，只有该用户能领取。bind_openid字段为true的卡券必须填写，bind_openid字段为false不必填写。</td></tr> <tr><td>timestamp</td> <td>是</td> <td>是</td> <td>时间戳，商户生成从1970年1月1日00:00:00至今的秒数,即当前的时间,且最终需要转换为字符串形式;由商户生成后传入,不同添加请求的时间戳须动态生成，若重复将会导致领取失败！。</td></tr> <tr><td>nonce_str</td> <td>否</td> <td>是</td> <td>随机字符串，由开发者设置传入， 加强安全性（若不填写可能被重放请求） 。随机字符串，不长于32位。推荐使用大小写字母和数字，不同添加请求的nonce须动态生成，若重复将会导致领取失败。</td></tr> <tr><td>fixed_begintimestamp</td> <td>否</td> <td>否</td> <td>卡券在第三方系统的实际领取时间，为东八区时间戳（UTC+8,精确到秒）。当卡券的有效期类型为 DAT E_TYPE_FIX_TERM时专用，标识卡券的实际生效时间，用于解决商户系统内起始时间和领取时间不同步的问题。</td></tr> <tr><td>outer_str</td> <td>否</td> <td>否</td> <td>领取渠道参数，用于标识本次领取的渠道值。</td></tr> <tr><td>signature</td> <td>是</td> <td>-</td> <td>签名，商户将接口列表中的参数按照指定方式进行签名,签名方式使用SHA1,具体签名方案参见下文;由商户按照规范签名后传入。</td></tr></tbody></table></div><p><strong>签名说明</strong></p> <ol><li><p>将 api_ticket、timestamp、card_id、code、openid、nonce_str的value值进行字符串的字典序排序。</p></li> <li><p>将所有参数字符串拼接成一个字符串进行sha1加密，得到signature。</p></li> <li><p>signature中的timestamp，nonce字段和card_ext中的timestamp，nonce_str字段必须保持一致。</p></li> <li><p>code=1434008071，timestamp=1404896688，card_id=pjZ8Yt1XGILfi-FUsewpnnolGgZk， api_ticket=ojZ8YtyVyr30HheH3CM73y7h4jJE ，nonce_str=123 则signature=sha1(12314048966881434008071ojZ8YtyVyr30HheH3CM73y7h4jJEpjZ8Yt1XGILfi-FUsewpnnolGgZk)=f137ab68b7f8112d20ee528ab6074564e2796250。</p></li></ol> <p><strong>强烈建议开发者使用卡券资料包中的签名工具SDK进行签名或使用debug工具进行校验：</strong> <a href="http://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=cardsign" target="_blank">http://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=cardsign</a></p> <p><strong>卡券签名cardSign说明</strong></p> <p>1.将 api_ticket、appid、location_id、timestamp、nonce_str、card_id、card_type的value值进行字符串的字典序排序。</p> <p>2.将所有参数字符串拼接成一个字符串进行sha1加密，得到cardSign。</p> <p><span id="66"></span></p> <h1 id="附录5-常见错误及解决方法"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#附录5-常见错误及解决方法" aria-hidden="true" class="header-anchor">#</a> <strong>附录5-常见错误及解决方法</strong></h1> <p>调用config 接口的时候传入参数 debug: true 可以开启debug模式，页面会alert出错误信息。以下为常见错误及解决方法：</p> <ol><li><p>invalid url domain当前页面所在域名与使用的appid没有绑定，请确认正确填写绑定的域名，仅支持80（http）和443（https）两个端口，因此不需要填写端口号（一个appid可以绑定三个有效域名，见 ]<a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#2">目录1.1.1</a>）。</p></li> <li><p>invalid signature签名错误。建议按如下顺序检查：</p> <ol><li><p>确认签名算法正确，可用<a href="http://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=jsapisign" target="_blank">http://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=jsapisign</a> 页面工具进行校验。</p></li> <li><p>确认config中nonceStr（js中驼峰标准大写S）, timestamp与用以签名中的对应noncestr, timestamp一致。</p></li> <li><p>确认url是页面完整的url(请在当前页面alert(location.href.split('#')[0])确认)，包括<code>'http(s)://'</code>部分，以及'？'后面的GET参数部分,但不包括'#'hash后面的部分。</p></li> <li><p>确认 config 中的 appid 与用来获取 jsapi_ticket 的 appid 一致。</p></li> <li><p>确保一定缓存access_token和jsapi_ticket。</p></li> <li><p>确保你获取用来签名的url是动态获取的，动态页面可参见实例代码中php的实现方式。如果是html的静态页面在前端通过ajax将url传到后台签名，前端需要用js获取当前页面除去'#'hash部分的链接（可用location.href.split('#')[0]获取,而且需要encodeURIComponent），因为页面一旦分享，微信客户端会在你的链接末尾加入其它参数，如果不是动态获取当前链接，将导致分享后的页面签名失败。</p></li></ol></li> <li><p>the permission value is offline verifying这个错误是因为config没有正确执行，或者是调用的JSAPI没有传入config的jsApiList参数中。建议按如下顺序检查：</p> <ol><li><p>确认config正确通过。</p></li> <li><p>如果是在页面加载好时就调用了JSAPI，则必须写在wx.ready的回调中。</p></li> <li><p>确认config的jsApiList参数包含了这个JSAPI。</p></li></ol></li> <li><p>permission denied该公众号没有权限使用这个JSAPI，或者是调用的JSAPI没有传入config的jsApiList参数中（部分接口需要认证之后才能使用）。</p></li> <li><p>function not exist当前客户端版本不支持该接口，请升级到新版体验。</p></li> <li><p>为什么6.0.1版本config:ok，但是6.0.2版本之后不ok（因为6.0.2版本之前没有做权限验证，所以config都是ok，但这并不意味着你config中的签名是OK的，请在6.0.2检验是否生成正确的签名以保证config在高版本中也ok。）</p></li> <li><p>在iOS和Android都无法分享（请确认公众号已经认证，只有认证的公众号才具有分享相关接口权限，如果确实已经认证，则要检查监听接口是否在wx.ready回调函数中触发）</p></li> <li><p>服务上线之后无法获取jsapi_ticket，自己测试时没问题。（因为access_token和jsapi_ticket必须要在自己的服务器缓存，否则上线后会触发频率限制。请确保一定对token和ticket做缓存以减少2次服务器请求，不仅可以避免触发频率限制，还加快你们自己的服务速度。目前为了方便测试提供了1w的获取量，超过阀值后，服务将不再可用，请确保在服务上线前一定全局缓存access_token和jsapi_ticket，两者有效期均为7200秒，否则一旦上线触发频率限制，服务将不再可用）。</p></li> <li><p>uploadImage怎么传多图（目前只支持一次上传一张，多张图片需等前一张图片上传之后再调用该接口）</p></li> <li><p>没法对本地选择的图片进行预览（chooseImage接口本身就支持预览，不需要额外支持）</p></li> <li><p>通过a链接(例如先通过微信授权登录)跳转到b链接，invalid signature签名失败（后台生成签名的链接为使用jssdk的当前链接，也就是跳转后的b链接，请不要用微信登录的授权链接进行签名计算，后台签名的url一定是使用jssdk的当前页面的完整url除去'#'部分）</p></li> <li><p>出现config:fail错误（这是由于传入的config参数不全导致，请确保传入正确的appId、timestamp、nonceStr、signature和需要使用的jsApiList）</p></li> <li><p>如何把jsapi上传到微信的多媒体资源下载到自己的服务器（请参见文档中uploadVoice和uploadImage接口的备注说明）</p></li> <li><p>Android通过jssdk上传到微信服务器，第三方再从微信下载到自己的服务器，会出现杂音（微信团队已经修复此问题，目前后台已优化上线）</p></li> <li><p>绑定父级域名，是否其子域名也是可用的（是的，合法的子域名在绑定父域名之后是完全支持的）</p></li> <li><p>在iOS微信6.1版本中，分享的图片外链不显示，只能显示公众号页面内链的图片或者微信服务器的图片，已在6.2中修复</p></li> <li><p>是否需要对低版本自己做兼容（jssdk都是兼容低版本的，不需要第三方自己额外做更多工作，但有的接口是6.0.2新引入的，只有新版才可调用）</p></li> <li><p>该公众号支付签名无效，无法发起该笔交易（请确保你使用的jweixin.js是官方线上版本，不仅可以减少用户流量，还有可能对某些bug进行修复，拷贝到第三方服务器中使用，官方将不对其出现的任何问题提供保障，具体支付签名算法可参考 JSSDK微信支付一栏）</p></li> <li><p>目前Android微信客户端不支持pushState的H5新特性，所以使用pushState来实现web app的页面会导致签名失败，此问题已在Android6.2中修复</p></li> <li><p>uploadImage在chooseImage的回调中有时候Android会不执行，Android6.2会解决此问题，若需支持低版本可以把调用uploadImage放在setTimeout中延迟100ms解决</p></li> <li><p>require subscribe错误说明你没有订阅该测试号，该错误仅测试号会出现</p></li> <li><p>getLocation返回的坐标在openLocation有偏差，因为getLocation返回的是gps坐标，openLocation打开的腾讯地图为火星坐标，需要第三方自己做转换，6.2版本开始已经支持直接获取火星坐标</p></li> <li><p>查看公众号（未添加）: "menuItem:addContact"不显示，目前仅有从公众号传播出去的链接才能显示，来源必须是公众号</p></li> <li><p>ICP备案数据同步有一天延迟，所以请在第二日绑定</p></li></ol> <p><span id="67"></span></p> <h1 id="附录6-DEMO页面和示例代码"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#附录6-DEMO页面和示例代码" aria-hidden="true" class="header-anchor">#</a> <strong>附录6-DEMO页面和示例代码</strong></h1> <p><strong>DEMO页面：</strong> <a href="https://www.weixinsxy.com/jssdk/" target="_blank">https://www.weixinsxy.com/jssdk/</a> <img src="./概述 _ 微信开放文档_files/0(1)" alt="" data-width="250" data-ratio="0.988"></p> <p><strong>示例代码：</strong></p> <p><a href="http://demo.open.weixin.qq.com/jssdk/sample.zip" target="_blank">http://demo.open.weixin.qq.com/jssdk/sample.zip</a></p> <p>备注：链接中包含php、java、nodejs以及python的示例代码供第三方参考，第三方切记要对获取的accesstoken以及jsapi_ticket进行缓存以确保不会触发频率限制。</p> <p><span id="68"></span></p> <h1 id="附录7-问题反馈"><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#附录7-问题反馈" aria-hidden="true" class="header-anchor">#</a> <strong>附录7-问题反馈</strong></h1> <p>邮箱地址：weixin-open@qq.com</p> <p>邮件主题：【微信JS-SDK反馈】</p> <p>邮件内容说明：</p> <p>用简明的语言描述问题所在，并交代清楚遇到该问题的场景，可附上截屏图片，微信团队会尽快处理你的反馈。</p></div></div> <!----> <div class="content relative_ans" style="display:none;"><h2>相关回答</h2> <ul></ul> <!----></div> <footer class="page-edit"><!----></footer>  <footer class="footer"><ul class="footer-links"><li class="footer-link"><a href="http://www.tencent.com/zh-cn/index.shtml" target="_blank">关于腾讯</a></li> <li class="footer-link"><a href="https://mp.weixin.qq.com/debug/wxadoc/introduction/index.html?t=1484641676" target="_blank">文档中心</a></li> <li class="footer-link"><a href="https://mp.weixin.qq.com/cgi-bin/opshowpage?action=dispelinfo&amp;lang=zh_CN&amp;begin=1&amp;count=9" target="_blank">辟谣中心</a></li> <li class="footer-link"><a href="http://kf.qq.com/faq/120911VrYVrA1509086vyumm.html" target="_blank">客服中心</a></li> <li class="footer-link"><a href="mailto:weixinmp@qq.com" target="_blank">联系邮箱</a></li></ul> <p class="copyright">Copyright © 2012-<span>2020</span> Tencent. All Rights Reserved.</p></footer></div></main></div></div></div> <div id="popoverWrapId" class="pop-links__wrp popover_hide"><ul class="pop-links__list"><li class="pop-links__item"><button class="pop-link">复制</button></li> <li class="pop-links__item"><button class="pop-link">问题反馈</button></li></ul></div> <div class="fixed-btns"><a href="javascript:;" class="fixed-btn fixed-btn__feedback"><div class="fixed-btn__inner"><span class="fixed-btn__icon"></span> <span class="fixed-btn__text">反馈</span></div></a> <a href="javascript:;" class="fixed-btn fixed-btn__top" style=""><div class="fixed-btn__inner"><span class="fixed-btn__icon"></span></div></a></div></div></div></div>
    
  

</body><style type="text/css" id="509148057661"></style></html>