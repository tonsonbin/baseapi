(window.webpackJsonp=window.webpackJsonp||[]).push([[452],{1176:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),t._m(63),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),t._m(68),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),t._m(71),t._v(" "),t._m(72),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),t._m(76),t._v(" "),a("p",[t._v("通过使用微信JS-SDK，网页开发者可借助微信高效地使用拍照、选图、语音、位置等手机系统的能力，同时可以直接使用微信分享、扫一扫、卡券、支付等微信特有的能力，为微信用户提供更优质的网页体验。")]),t._v(" "),a("p",[t._v("此文档面向网页开发者介绍微信JS-SDK如何使用及相关注意事项。")]),t._v(" "),t._m(77),t._v(" "),t._m(78),t._v(" "),t._m(79),t._v(" "),t._m(80),t._v(" "),a("p",[t._v("先登录微信公众平台进入“公众号设置”的“功能设置”里填写“JS接口安全域名”。")]),t._v(" "),a("p",[t._v("备注：登录后可在“开发者中心”查看对应的接口权限。")]),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),a("p",[t._v("在需要调用JS接口的页面引入如下JS文件，（支持https）：http://res.wx.qq.com/open/js/jweixin-1.6.0.js")]),t._v(" "),a("p",[t._v("如需进一步提升服务稳定性，当上述资源不可访问时，可改访问：http://res2.wx.qq.com/open/js/jweixin-1.6.0.js （支持https）。")]),t._v(" "),a("p",[t._v("备注：支持使用 AMD/CMD 标准模块加载方法加载")]),t._v(" "),t._m(83),t._v(" "),t._m(84),t._v(" "),a("p",[t._v("所有需要使用JS-SDK的页面必须先注入配置信息，否则将无法调用（同一个url仅需调用一次，对于变化url的SPA的web app可在每次url变化时进行调用,目前Android微信客户端不支持pushState的H5新特性，所以使用pushState来实现web app的页面会导致签名失败，此问题会在Android6.2中修复）。")]),t._v(" "),t._m(85),t._m(86),t._v(" "),a("p",[t._v("注意：如果使用的是"),a("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/wxcloud/guide/staticstorage/introduction.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("小程序云开发静态网站托管"),a("OutboundLink")],1),t._v("的域名的网页，可以免鉴权直接跳任意合法合规小程序，调用 wx.config 时 appId 需填入非个人主体的已认证小程序，不需计算签名，timestamp、nonceStr、signature 填入非空任意值即可。")]),t._v(" "),t._m(87),t._v(" "),t._m(88),t._v(" "),t._m(89),t._m(90),t._v(" "),t._m(91),t._v(" "),t._m(92),t._m(93),t._v(" "),t._m(94),t._v(" "),a("p",[t._v("所有接口通过wx对象(也可使用jWeixin对象)来调用，参数是一个对象，除了每个接口本身需要传的参数之外，还有以下通用参数：")]),t._v(" "),t._m(95),t._v(" "),a("p",[t._v("备注：不要尝试在trigger中使用ajax异步请求修改本次分享的内容，因为客户端分享操作是一个同步操作，这时候使用ajax的回包会还没有返回。")]),t._v(" "),a("p",[t._v("以上几个函数都带有一个参数，类型为对象，其中除了每个接口本身返回的数据之外，还有一个通用属性errMsg，其值格式如下：")]),t._v(" "),a("p",[t._v('调用成功时："xxx:ok" ，其中xxx为调用的接口名')]),t._v(" "),a("p",[t._v('用户取消时："xxx:cancel"，其中xxx为调用的接口名')]),t._v(" "),a("p",[t._v("调用失败时：其值为具体错误信息")]),t._v(" "),t._m(96),t._v(" "),t._m(97),t._v(" "),t._m(98),t._v(" "),t._m(99),t._v(" "),t._m(100),a("p",[t._v("备注：checkJsApi接口是客户端6.0.2新引入的一个预留接口，第一期开放的接口均可不使用checkJsApi来检测。")]),t._v(" "),t._m(101),t._v(" "),t._m(102),t._v(" "),t._m(103),t._v(" "),t._m(104),t._v(" "),t._m(105),t._v(" "),t._m(106),t._v(" "),t._m(107),t._m(108),t._v(" "),t._m(109),t._v(" "),t._m(110),t._m(111),t._v(" "),t._m(112),t._v(" "),t._m(113),t._m(114),t._v(" "),t._m(115),t._v(" "),t._m(116),t._m(117),t._v(" "),t._m(118),t._v(" "),t._m(119),t._m(120),t._v(" "),t._m(121),t._v(" "),t._m(122),t._m(123),t._v(" "),t._m(124),t._v(" "),t._m(125),t._m(126),t._v(" "),t._m(127),t._v(" "),t._m(128),t._v(" "),t._m(129),t._v(" "),t._m(130),t._m(131),t._v(" "),t._m(132),t._v(" "),t._m(133),t._m(134),t._v(" "),t._m(135),t._v(" "),t._m(136),a("p",[t._v("备注：上传图片有效期3天，可用微信多媒体接口下载图片到自己的服务器，此处获得的 serverId 即 media_id。")]),t._v(" "),t._m(137),t._v(" "),t._m(138),t._v(" "),t._m(139),t._m(140),t._v(" "),t._m(141),t._v(" "),t._m(142),t._m(143),t._v(" "),t._m(144),t._v(" "),t._m(145),t._v(" "),t._m(146),t._v(" "),t._m(147),t._v(" "),t._m(148),t._m(149),t._v(" "),t._m(150),t._v(" "),t._m(151),t._m(152),t._v(" "),t._m(153),t._v(" "),t._m(154),t._m(155),t._v(" "),t._m(156),t._v(" "),t._m(157),t._m(158),t._v(" "),t._m(159),t._v(" "),t._m(160),t._m(161),t._v(" "),t._m(162),t._v(" "),t._m(163),t._m(164),t._v(" "),t._m(165),t._v(" "),t._m(166),t._m(167),t._v(" "),t._m(168),t._v(" "),t._m(169),a("p",[t._v("备注：上传语音有效期3天，可用微信多媒体接口下载语音到自己的服务器，此处获得的 serverId 即 media_id，参考文档 .目前多媒体文件下载接口的频率限制为10000次/天，如需要调高频率，请登录微信公众平台，在开发 - 接口权限的列表中，申请提高临时上限。")]),t._v(" "),a("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz/PiajxSqBRaEIQxibpLbyuSKwKpliceQ7em8icguia8NDibe0IySWMOlL22PJXx1hvDd8HFo9bBhbJG8iaGe7pKFj1e7aA/0?wx_fmt=png",alt:"","data-width":"608","data-ratio":"0.4605263157894737"}}),t._v(" "),t._m(170),t._v(" "),t._m(171),t._v(" "),t._m(172),t._m(173),t._v(" "),t._m(174),t._v(" "),t._m(175),t._v(" "),t._m(176),t._v(" "),t._m(177),t._m(178),t._v(" "),t._m(179),t._v(" "),t._m(180),t._v(" "),t._m(181),t._v(" "),t._m(182),t._m(183),t._v(" "),t._m(184),t._v(" "),t._m(185),t._v(" "),t._m(186),t._v(" "),t._m(187),t._m(188),t._v(" "),t._m(189),t._v(" "),t._m(190),t._m(191),t._v(" "),t._m(192),t._v(" "),t._m(193),t._v(" "),t._m(194),t._v(" "),t._m(195),a("p",[t._v("备注：如需接入摇一摇周边功能，请参考：申请开通摇一摇周边")]),t._v(" "),t._m(196),t._v(" "),t._m(197),t._v(" "),t._m(198),t._m(199),t._v(" "),t._m(200),t._v(" "),t._m(201),a("p",[t._v("备注：上述摇一摇周边接口使用注意事项及更多返回结果说明，请参考：摇一摇周边获取设备信息")]),t._v(" "),t._m(202),t._v(" "),t._m(203),t._v(" "),t._m(204),t._v(" "),t._m(205),t._v(" "),t._m(206),t._m(207),t._v(" "),t._m(208),t._v(" "),t._m(209),t._m(210),t._v(" "),t._m(211),t._v(" "),t._m(212),t._m(213),t._v(" "),t._m(214),t._v(" "),t._m(215),t._m(216),t._v(" "),t._m(217),t._v(" "),t._m(218),t._m(219),t._v(" "),t._m(220),t._v(" "),t._m(221),t._v(" "),t._m(222),t._v(" "),t._m(223),t._m(224),t._v(" "),t._m(225),t._v(" "),t._m(226),t._v(" "),t._m(227),t._v(" "),t._m(228),t._m(229),t._v(" "),t._m(230),t._v(" "),a("p",[t._v("微信卡券接口中使用的签名凭证api_ticket，与步骤三中config使用的签名凭证jsapi_ticket不同，开发者在调用微信卡券JS-SDK的过程中需依次完成两次不同的签名，并确保凭证的缓存。")]),t._v(" "),t._m(231),t._v(" "),t._m(232),t._v(" "),a("p",[t._v("api_ticket 是用于调用微信卡券JS API的临时票据，有效期为7200 秒，通过access_token 来获取。")]),t._v(" "),a("p",[t._v("开发者注意事项：")]),t._v(" "),t._m(233),t._v(" "),t._m(234),t._v(" "),t._m(235),t._v(" "),t._m(236),t._v(" "),t._m(237),t._m(238),t._v(" "),t._m(239),t._v(" "),t._m(240),t._m(241),t._m(242),t._v(" "),t._m(243),t._v(" "),t._m(244),t._m(245),t._m(246),t._v(" "),a("p",[t._v("开发者特别注意：签名错误会导致拉取卡券列表异常为空，请仔细检查参与签名的参数有效性。")]),t._v(" "),t._m(247),t._v(" "),a("p",[t._v("拉取列表仅与用户本地卡券有关，拉起列表异常为空的情况通常有三种：签名错误、时间戳无效、筛选机制有误。请开发者依次排查定位原因。")]),t._v(" "),t._m(248),t._v(" "),t._m(249),t._v(" "),t._m(250),t._m(251),t._v(" "),t._m(252),t._v(" "),t._m(253),t._v(" "),t._m(254),t._m(255),t._v(" "),t._m(256),t._v(" "),t._m(257),t._v(" "),t._m(258),t._v(" "),t._m(259),a("p",[t._v("备注：prepay_id 通过微信支付统一下单接口拿到，paySign 采用统一的微信支付 Sign 签名生成方法，注意这里 appId 也要参与签名，appId 与 config 中传入的 appId 一致，即最后参与签名的参数有appId, timeStamp, nonceStr, package, signType。")]),t._v(" "),t._m(260),t._v(" "),t._m(261),t._v(" "),t._m(262),t._v(" "),t._m(263),t._v(" "),t._m(264),t._v(" "),t._m(265),a("p",[t._v("备注：")]),t._v(" "),a("p",[t._v("微信地址共享使用的数据字段包括：")]),t._v(" "),t._m(266),t._v(" "),t._m(267),t._v(" "),t._m(268),t._v(" "),t._m(269),t._v(" "),a("p",[t._v("生成签名之前必须先了解一下jsapi_ticket，jsapi_ticket是公众号用于调用微信JS接口的临时票据。正常情况下，jsapi_ticket的有效期为7200秒，通过access_token来获取。由于获取jsapi_ticket的api调用次数非常有限，频繁刷新jsapi_ticket会导致api调用受限，影响自身业务，开发者必须在自己的服务全局缓存jsapi_ticket 。")]),t._v(" "),t._m(270),t._v(" "),a("p",[t._v("成功返回如下JSON：")]),t._v(" "),t._m(271),a("p",[t._v("获得jsapi_ticket之后，就可以生成JS-SDK权限验证的签名了。")]),t._v(" "),t._m(272),t._v(" "),a("p",[t._v("签名生成规则如下：参与签名的字段包括noncestr（随机字符串）, 有效的jsapi_ticket, timestamp（时间戳）, url（当前网页的URL，不包含#及其后面部分） 。对所有待签名参数按照字段名的ASCII 码从小到大排序（字典序）后，使用URL键值对的格式（即key1=value1&key2=value2…）拼接成字符串string1。这里需要注意的是所有参数名均为小写字符。对string1作sha1加密，字段名和字段值都采用原始值，不进行URL 转义。")]),t._v(" "),a("p",[t._v("即signature=sha1(string1)。 示例：")]),t._v(" "),t._m(273),a("p",[t._v("步骤1. 对所有待签名参数按照字段名的ASCII 码从小到大排序（字典序）后，使用URL键值对的格式（即key1=value1&key2=value2…）拼接成字符串string1：")]),t._v(" "),t._m(274),a("p",[t._v("步骤2. 对string1进行sha1签名，得到signature：")]),t._v(" "),t._m(275),a("p",[t._v("注意事项")]),t._v(" "),t._m(276),t._v(" "),a("p",[t._v("如出现invalid signature 等错误详见附录5常见错误及解决办法。")]),t._v(" "),t._m(277),t._v(" "),t._m(278),t._v(" "),t._m(279),t._v(" "),a("p",[t._v("updateAppMessageShareData")]),t._v(" "),a("p",[t._v("updateTimelineShareData")]),t._v(" "),a("p",[t._v("onMenuShareTimeline（即将废弃）")]),t._v(" "),a("p",[t._v("onMenuShareAppMessage（即将废弃）")]),t._v(" "),a("p",[t._v("onMenuShareQQ（即将废弃）")]),t._v(" "),a("p",[t._v("onMenuShareWeibo")]),t._v(" "),a("p",[t._v("onMenuShareQZone")]),t._v(" "),a("p",[t._v("startRecord")]),t._v(" "),a("p",[t._v("stopRecord")]),t._v(" "),a("p",[t._v("onVoiceRecordEnd")]),t._v(" "),a("p",[t._v("playVoice")]),t._v(" "),a("p",[t._v("pauseVoice")]),t._v(" "),a("p",[t._v("stopVoice")]),t._v(" "),a("p",[t._v("onVoicePlayEnd")]),t._v(" "),a("p",[t._v("uploadVoice")]),t._v(" "),a("p",[t._v("downloadVoice")]),t._v(" "),a("p",[t._v("chooseImage")]),t._v(" "),a("p",[t._v("previewImage")]),t._v(" "),a("p",[t._v("uploadImage")]),t._v(" "),a("p",[t._v("downloadImage")]),t._v(" "),a("p",[t._v("translateVoice")]),t._v(" "),a("p",[t._v("getNetworkType")]),t._v(" "),a("p",[t._v("openLocation")]),t._v(" "),a("p",[t._v("getLocation")]),t._v(" "),a("p",[t._v("hideOptionMenu")]),t._v(" "),a("p",[t._v("showOptionMenu")]),t._v(" "),a("p",[t._v("hideMenuItems")]),t._v(" "),a("p",[t._v("showMenuItems")]),t._v(" "),a("p",[t._v("hideAllNonBaseMenuItem")]),t._v(" "),a("p",[t._v("showAllNonBaseMenuItem")]),t._v(" "),a("p",[t._v("closeWindow")]),t._v(" "),a("p",[t._v("scanQRCode")]),t._v(" "),a("p",[t._v("chooseWXPay")]),t._v(" "),a("p",[t._v("openProductSpecificView")]),t._v(" "),a("p",[t._v("addCard")]),t._v(" "),a("p",[t._v("chooseCard")]),t._v(" "),a("p",[t._v("openCard")]),t._v(" "),t._m(280),t._v(" "),t._m(281),t._v(" "),t._m(282),t._v(" "),a("p",[t._v('举报: "menuItem:exposeArticle"')]),t._v(" "),a("p",[t._v('调整字体: "menuItem:setFont"')]),t._v(" "),a("p",[t._v('日间模式: "menuItem:dayMode"')]),t._v(" "),a("p",[t._v('夜间模式: "menuItem:nightMode"')]),t._v(" "),a("p",[t._v('刷新: "menuItem:refresh"')]),t._v(" "),a("p",[t._v('查看公众号（已添加）: "menuItem:profile"')]),t._v(" "),a("p",[t._v('查看公众号（未添加）: "menuItem:addContact"')]),t._v(" "),t._m(283),t._v(" "),a("p",[t._v('发送给朋友: "menuItem:share:appMessage"')]),t._v(" "),a("p",[t._v('分享到朋友圈: "menuItem:share:timeline"')]),t._v(" "),a("p",[t._v('分享到QQ: "menuItem:share:qq"')]),t._v(" "),a("p",[t._v('分享到Weibo: "menuItem:share:weiboApp"')]),t._v(" "),a("p",[t._v('收藏: "menuItem:favorite"')]),t._v(" "),a("p",[t._v('分享到FB: "menuItem:share:facebook"')]),t._v(" "),a("p",[t._v('分享到 QQ 空间 "menuItem:share:QZone"')]),t._v(" "),t._m(284),t._v(" "),a("p",[t._v('编辑标签: "menuItem:editTag"')]),t._v(" "),a("p",[t._v('删除: "menuItem:delete"')]),t._v(" "),a("p",[t._v('复制链接: "menuItem:copyUrl"')]),t._v(" "),a("p",[t._v('原网页: "menuItem:originPage"')]),t._v(" "),a("p",[t._v('阅读模式: "menuItem:readMode"')]),t._v(" "),a("p",[t._v('在QQ浏览器中打开: "menuItem:openWithQQBrowser"')]),t._v(" "),a("p",[t._v('在Safari中打开: "menuItem:openWithSafari"')]),t._v(" "),a("p",[t._v('邮件: "menuItem:share:email"')]),t._v(" "),t._m(285),t._v(" "),t._m(286),t._v(" "),t._m(287),t._v(" "),a("p",[t._v("卡券签名和JSSDK的签名完全独立，两者的算法和意义完全不同，请不要混淆。JSSDK的签名是使用所有JS接口都需要走的一层鉴权，用以标识调用者的身份，和卡券本身并无关系。其次，卡券的签名考虑到协议的扩展性和简单的防数据擅改，设计了一套独立的签名协议。另外由于历史原因，卡券的JS接口先于JSSDK出现，当时的JSAPI并没有鉴权体系，所以在卡券的签名里也加上了appsecret/api_ticket这些身份信息，希望开发者理解。")]),t._v(" "),t._m(288),t._v(" "),a("p",[t._v("卡券 api_ticket 是用于调用卡券相关接口的临时票据，有效期为 7200 秒，通过 access_token 来获取。这里要注意与 jsapi_ticket 区分开来。由于获取卡券 api_ticket 的 api 调用次数非常有限，频繁刷新卡券 api_ticket 会导致 api 调用受限，影响自身业务，开发者必须在自己的服务全局缓存卡券 api_ticket 。")]),t._v(" "),a("p",[t._v("1.参考以下文档获取access_token（有效期7200秒，开发者必须在自己的服务全局缓存access_token）：../15/54ce45d8d30b6bf6758f68d2e95bc627.html")]),t._v(" "),t._m(289),t._v(" "),t._m(290),t._v(" "),a("p",[t._v("cardExt本身是一个JSON字符串，是商户为该张卡券分配的唯一性信息，包含以下字段：")]),t._v(" "),t._m(291),t._m(292),t._v(" "),t._m(293),t._v(" "),t._m(294),t._v(" "),t._m(295),t._v(" "),a("p",[t._v("1.将 api_ticket、appid、location_id、timestamp、nonce_str、card_id、card_type的value值进行字符串的字典序排序。")]),t._v(" "),a("p",[t._v("2.将所有参数字符串拼接成一个字符串进行sha1加密，得到cardSign。")]),t._v(" "),t._m(296),t._v(" "),t._m(297),t._v(" "),a("p",[t._v("调用config 接口的时候传入参数 debug: true 可以开启debug模式，页面会alert出错误信息。以下为常见错误及解决方法：")]),t._v(" "),t._m(298),t._v(" "),t._m(299),t._v(" "),t._m(300),t._v(" "),t._m(301),t._v(" "),t._m(302),t._v(" "),t._m(303),t._v(" "),a("p",[t._v("备注：链接中包含php、java、nodejs以及python的示例代码供第三方参考，第三方切记要对获取的accesstoken以及jsapi_ticket进行缓存以确保不会触发频率限制。")]),t._v(" "),t._m(304),t._v(" "),t._m(305),t._v(" "),a("p",[t._v("邮箱地址：weixin-open@qq.com")]),t._v(" "),a("p",[t._v("邮件主题：【微信JS-SDK反馈】")]),t._v(" "),a("p",[t._v("邮件内容说明：")]),t._v(" "),a("p",[t._v("用简明的语言描述问题所在，并交代清楚遇到该问题的场景，可附上截屏图片，微信团队会尽快处理你的反馈。")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("目录")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#0"}},[this._v("1 概述")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#1"}},[this._v("1.1 JSSDK使用步骤")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#2"}},[this._v("1.1.1 步骤一：绑定域名")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#3"}},[this._v("1.1.2 步骤二：引入JS文件")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#4"}},[this._v("1.1.3 步骤三：通过config接口注入权限验证配置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#5"}},[this._v("1.1.4 步骤四：通过ready接口处理成功验证")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#6"}},[this._v("1.1.5 步骤五：通过error接口处理失败验证")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#7"}},[this._v("1.2 接口调用说明")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#8"}},[this._v("2 基础接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#9"}},[this._v("2.1 判断当前客户端版本是否支持指定JS接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#10"}},[this._v("3 分享接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#111"}},[this._v("3.1 自定义“分享给朋友”及“分享到QQ”按钮的分享内容")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#112"}},[this._v("3.2 自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#11"}},[this._v("3.3 获取“分享到朋友圈”按钮点击状态及自定义分享内容接口（即将废弃）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#12"}},[this._v("3.4 获取“分享给朋友”按钮点击状态及自定义分享内容接口（即将废弃）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#13"}},[this._v("3.5 获取“分享到QQ”按钮点击状态及自定义分享内容接口（即将废弃）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#14"}},[this._v("3.6 获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#15"}},[this._v("3.7 获取“分享到QQ空间”按钮点击状态及自定义分享内容接口（即将废弃）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#16"}},[this._v("4 图像接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#17"}},[this._v("4.1 拍照或从手机相册中选图接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#18"}},[this._v("4.2 预览图片接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#19"}},[this._v("4.3 上传图片接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#20"}},[this._v("4.4 下载图片接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#21"}},[this._v("4.5 获取本地图片接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#22"}},[this._v("5 音频接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#23"}},[this._v("5.1 开始录音接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#24"}},[this._v("5.2 停止录音接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#25"}},[this._v("5.3 监听录音自动停止接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#26"}},[this._v("5.4 播放语音接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#27"}},[this._v("5.5 暂停播放接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#28"}},[this._v("5.6 停止播放接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#29"}},[this._v("5.7 监听语音播放完毕接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#30"}},[this._v("5.8 上传语音接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#31"}},[this._v("5.9 下载语音接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#32"}},[this._v("6 智能接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#33"}},[this._v("6.1 识别音频并返回识别结果接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#34"}},[this._v("7 设备信息")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#35"}},[this._v("7.1 获取网络状态接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#36"}},[this._v("8 地理位置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#37"}},[this._v("8.1 使用微信内置地图查看位置接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#38"}},[this._v("8.2 获取地理位置接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#39"}},[this._v("9 摇一摇周边")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#40"}},[this._v("9.1 开启查找周边ibeacon设备接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#41"}},[this._v("9.2 关闭查找周边ibeacon设备接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#42"}},[this._v("9.3 监听周边ibeacon设备接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#43"}},[this._v("10 界面操作")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#44"}},[this._v("10.1 隐藏右上角菜单接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#"}},[this._v("10.2 显示右上角菜单接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#"}},[this._v("10.3 关闭当前网页窗口接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#45"}},[this._v("10.4 批量隐藏功能按钮接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#46"}},[this._v("10.5 批量显示功能按钮接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#47"}},[this._v("10.6 隐藏所有非基础按钮接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#48"}},[this._v("10.7 显示所有功能按钮接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#49"}},[this._v("11 微信扫一扫")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#50"}},[this._v("11.1 调起微信扫一扫接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#51"}},[this._v("12 微信小店")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#52"}},[this._v("12.1 跳转微信商品页接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#53"}},[this._v("13 微信卡券")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#54"}},[this._v("13.1 获取api_ticket")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#55"}},[this._v("13.2 拉取适用卡券列表并获取用户选择信息")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#56"}},[this._v("13.3 批量添加卡券接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#57"}},[this._v("13.4 查看微信卡包中的卡券接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#58"}},[this._v("14 微信支付")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#59"}},[this._v("14.1 发起一个微信支付请求")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#60"}},[this._v("15 快速输入")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#61"}},[this._v("15.1 共享微信收货地址")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#62"}},[this._v("16 附录1-JS-SDK使用权限签名算法")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#63"}},[this._v("17 附录2-所有JS接口列表")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#64"}},[this._v("18 附录3-所有菜单项列表")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#65"}},[this._v("19 附录4-卡券扩展字段及签名生成算法")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#66"}},[this._v("20 附录5-常见错误及解决方法")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#67"}},[this._v("21 附录6-DEMO页面和示例代码")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"#68"}},[this._v("22 附录7-问题反馈")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"0"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("概述")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("微信JS-SDK是"),s("a",{attrs:{href:"https://mp.weixin.qq.com/cgi-bin/loginpage?t=wxm2-login&lang=zh_CN",target:"_blank"}},[this._v("微信公众平台")]),this._v(" 面向网页开发者提供的基于微信内的网页开发工具包。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"1"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"JSSDK使用步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#JSSDK使用步骤","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("JSSDK使用步骤")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"2"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"步骤一：绑定域名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤一：绑定域名","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("步骤一：绑定域名")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"3"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"步骤二：引入JS文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤二：引入JS文件","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("步骤二：引入JS文件")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"4"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"步骤三：通过config接口注入权限验证配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤三：通过config接口注入权限验证配置","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("步骤三：通过config接口注入权限验证配置")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。")]),t._v("\n  appId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 必填，公众号的唯一标识")]),t._v("\n  timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 必填，生成签名的时间戳")]),t._v("\n  nonceStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 必填，生成签名的随机串")]),t._v("\n  signature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 必填，签名")]),t._v("\n  jsApiList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 必填，需要使用的JS接口列表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("签名算法见文末的"),s("a",{attrs:{href:"#62"}},[this._v("附录1")]),this._v("，所有JS接口列表见文末的"),s("a",{attrs:{href:"#63"}},[this._v("附录2")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"5"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"步骤四：通过ready接口处理成功验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤四：通过ready接口处理成功验证","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("步骤四：通过ready接口处理成功验证")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ready")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"6"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"步骤五：通过error接口处理失败验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤五：通过error接口处理失败验证","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("步骤五：通过error接口处理失败验证")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"7"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"接口调用说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接口调用说明","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("接口调用说明")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("success：接口调用成功时执行的回调函数。")]),t._v(" "),a("li",[t._v("fail：接口调用失败时执行的回调函数。")]),t._v(" "),a("li",[t._v("complete：接口调用完成时执行的回调函数，无论成功或失败都会执行。")]),t._v(" "),a("li",[t._v("cancel：用户点击取消时的回调函数，仅部分有用户取消操作的api才会用到。")]),t._v(" "),a("li",[t._v("trigger: 监听Menu中的按钮点击时触发的方法，该方法仅支持Menu中的相关接口。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"8"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"基础接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("基础接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"9"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"判断当前客户端版本是否支持指定JS接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#判断当前客户端版本是否支持指定JS接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("判断当前客户端版本是否支持指定JS接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkJsApi")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  jsApiList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chooseImage'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要检测的JS接口列表，所有JS接口列表见附录2,")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 以键值对的形式返回，可用的api值true，不可用为false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 如：{"checkResult":{"chooseImage":true},"errMsg":"checkJsApi:ok"}')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"10"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"分享接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分享接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("分享接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("请注意，不要有诱导分享等违规行为，对于诱导分享行为将永久回收公众号接口权限，详细规则请查看："),s("a",{attrs:{href:"https://kf.qq.com/faq/161223JfINJV1612237buYri.html",target:"_blank"}},[this._v("朋友圈管理常见问题")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("请注意，原有的 "),a("code",[t._v("wx.onMenuShareTimeline")]),t._v("、"),a("code",[t._v("wx.onMenuShareAppMessage")]),t._v("、"),a("code",[t._v("wx.onMenuShareQQ")]),t._v("、"),a("code",[t._v("wx.onMenuShareQZone")]),t._v(" 接口，即将废弃。请尽快迁移使用客户端6.7.2及JSSDK 1.4.0以上版本支持的 "),a("code",[t._v("wx.updateAppMessageShareData")]),t._v("、"),a("code",[t._v("wx.updateTimelineShareData")]),t._v("接口。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"111"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"自定义“分享给朋友”及“分享到QQ”按钮的分享内容（1-4-0）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义“分享给朋友”及“分享到QQ”按钮的分享内容（1-4-0）","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("自定义“分享给朋友”及“分享到QQ”按钮的分享内容（1.4.0）")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ready")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//需在用户可能点击分享按钮前就先调用")]),t._v("\n  wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateAppMessageShareData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享标题")]),t._v("\n    desc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享描述")]),t._v("\n    link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致")]),t._v("\n    imgUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享图标")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置成功")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"112"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容（1-4-0）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容（1-4-0）","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容（1.4.0）")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ready")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//需在用户可能点击分享按钮前就先调用")]),t._v("\n  wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateTimelineShareData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享标题")]),t._v("\n    link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致")]),t._v("\n    imgUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享图标")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置成功")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"11"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"获取“分享到朋友圈”按钮点击状态及自定义分享内容接口（即将废弃）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取“分享到朋友圈”按钮点击状态及自定义分享内容接口（即将废弃）","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("获取“分享到朋友圈”按钮点击状态及自定义分享内容接口（即将废弃）")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMenuShareTimeline")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享标题")]),t._v("\n  link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致")]),t._v("\n  imgUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享图标")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户点击了分享后执行的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"12"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"获取“分享给朋友”按钮点击状态及自定义分享内容接口（即将废弃）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取“分享给朋友”按钮点击状态及自定义分享内容接口（即将废弃）","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("获取“分享给朋友”按钮点击状态及自定义分享内容接口（即将废弃）")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMenuShareAppMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享标题")]),t._v("\n  desc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享描述")]),t._v("\n  link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致")]),t._v("\n  imgUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享图标")]),t._v("\n  type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享类型,music、video或link，不填默认为link")]),t._v("\n  dataUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果type是music或video，则要提供数据链接，默认为空")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户点击了分享后执行的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"13"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"获取“分享到QQ”按钮点击状态及自定义分享内容接口（即将废弃）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取“分享到QQ”按钮点击状态及自定义分享内容接口（即将废弃）","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("获取“分享到QQ”按钮点击状态及自定义分享内容接口（即将废弃）")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMenuShareQQ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享标题")]),t._v("\n  desc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享描述")]),t._v("\n  link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享链接")]),t._v("\n  imgUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享图标")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户确认分享后执行的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("cancel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户取消分享后执行的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"14"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMenuShareWeibo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享标题")]),t._v("\n  desc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享描述")]),t._v("\n  link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享链接")]),t._v("\n  imgUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享图标")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户确认分享后执行的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("cancel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户取消分享后执行的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"15"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"获取“分享到QQ空间”按钮点击状态及自定义分享内容接口（即将废弃）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取“分享到QQ空间”按钮点击状态及自定义分享内容接口（即将废弃）","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("获取“分享到QQ空间”按钮点击状态及自定义分享内容接口（即将废弃）")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMenuShareQZone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享标题")]),t._v("\n  desc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享描述")]),t._v("\n  link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享链接")]),t._v("\n  imgUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分享图标")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户确认分享后执行的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("cancel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户取消分享后执行的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"16"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"图像接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图像接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("图像接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"17"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"拍照或从手机相册中选图接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拍照或从手机相册中选图接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("拍照或从手机相册中选图接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chooseImage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认9")]),t._v("\n  sizeType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'original'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'compressed'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可以指定是原图还是压缩图，默认二者都有")]),t._v("\n  sourceType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'album'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'camera'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可以指定来源是相册还是相机，默认二者都有")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" localIds "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localIds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"18"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"预览图片接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#预览图片接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("预览图片接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("previewImage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当前显示图片的http链接")]),t._v("\n  urls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要预览的图片http链接列表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"19"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"上传图片接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#上传图片接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("上传图片接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uploadImage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要上传的图片的本地ID，由chooseImage接口获得")]),t._v("\n  isShowProgressTips"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认为1，显示进度提示")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" serverId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("serverId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回图片的服务器端ID")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"20"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"下载图片接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载图片接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("下载图片接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("downloadImage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  serverId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要下载的图片的服务器端ID，由uploadImage接口获得")]),t._v("\n  isShowProgressTips"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认为1，显示进度提示")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" localId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回图片下载后的本地ID")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"21"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"获取本地图片接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取本地图片接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("获取本地图片接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLocalImgData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 图片的localID")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" localData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// localData是图片的base64数据，可以用img标签显示")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("备注：此接口仅在 iOS WKWebview 下提供，用于兼容 iOS WKWebview 不支持 localId 直接显示图片的问题。具体可参考《"),s("a",{attrs:{href:"/doc/offiaccount/OA_Web_Apps/iOS_WKWebview"}},[this._v("iOS WKWebview网页开发适配指南")]),this._v("》")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"22"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"音频接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#音频接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("音频接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"23"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"开始录音接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开始录音接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("开始录音接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[this._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("startRecord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"24"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"停止录音接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#停止录音接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("停止录音接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopRecord")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" localId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"25"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"监听录音自动停止接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#监听录音自动停止接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("监听录音自动停止接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onVoiceRecordEnd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 录音时间超过一分钟没有停止的时候会执行 complete 回调")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("complete")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" localId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"26"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"播放语音接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#播放语音接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("播放语音接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("playVoice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要播放的音频的本地ID，由stopRecord接口获得")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"27"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"暂停播放接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#暂停播放接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("暂停播放接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pauseVoice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要暂停的音频的本地ID，由stopRecord接口获得")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"28"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"停止播放接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#停止播放接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("停止播放接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopVoice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要停止的音频的本地ID，由stopRecord接口获得")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"29"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"监听语音播放完毕接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#监听语音播放完毕接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("监听语音播放完毕接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onVoicePlayEnd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" localId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回音频的本地ID")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"30"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"上传语音接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#上传语音接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("上传语音接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uploadVoice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要上传的音频的本地ID，由stopRecord接口获得")]),t._v("\n  isShowProgressTips"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认为1，显示进度提示")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" serverId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("serverId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回音频的服务器端ID")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"31"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"下载语音接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载语音接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("下载语音接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("downloadVoice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  serverId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要下载的音频的服务器端ID，由uploadVoice接口获得")]),t._v("\n  isShowProgressTips"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认为1，显示进度提示")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" localId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回音频的本地ID")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"32"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"智能接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#智能接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("智能接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"33"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"识别音频并返回识别结果接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#识别音频并返回识别结果接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("识别音频并返回识别结果接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("translateVoice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  localId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要识别的音频的本地Id，由录音相关接口获得")]),t._v("\n  isShowProgressTips"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认为1，显示进度提示")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("translateResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 语音识别的结果")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"34"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"设备信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设备信息","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("设备信息")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"35"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"获取网络状态接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取网络状态接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("获取网络状态接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getNetworkType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" networkType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("networkType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回网络类型2g，3g，4g，wifi")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"36"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"地理位置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#地理位置","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("地理位置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"37"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"使用微信内置地图查看位置接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用微信内置地图查看位置接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("使用微信内置地图查看位置接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("openLocation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  latitude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 纬度，浮点数，范围为90 ~ -90")]),t._v("\n  longitude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 经度，浮点数，范围为180 ~ -180。")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 位置名")]),t._v("\n  address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 地址详情说明")]),t._v("\n  scale"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 地图缩放级别,整形值,范围从1~28。默认为最大")]),t._v("\n  infoUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在查看位置界面底部显示的超链接,可点击跳转")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"38"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"获取地理位置接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取地理位置接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("获取地理位置接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLocation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wgs84'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认为wgs84的gps坐标，如果要返回直接给openLocation用的火星坐标，可传入'gcj02'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" latitude "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("latitude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 纬度，浮点数，范围为90 ~ -90")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" longitude "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("longitude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 经度，浮点数，范围为180 ~ -180。")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" speed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("speed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 速度，以米/每秒计")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" accuracy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accuracy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 位置精度")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"39"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"摇一摇周边"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#摇一摇周边","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("摇一摇周边")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"40"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"开启查找周边ibeacon设备接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开启查找周边ibeacon设备接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("开启查找周边ibeacon设备接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("startSearchBeacons")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ticket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//摇周边的业务ticket, 系统自动添加在摇出来的页面链接后面")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("complete")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("argv")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//开启查找完成后的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"41"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"关闭查找周边ibeacon设备接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关闭查找周边ibeacon设备接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("关闭查找周边ibeacon设备接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopSearchBeacons")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("complete")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//关闭查找完成后的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"42"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"监听周边ibeacon设备接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#监听周边ibeacon设备接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("监听周边ibeacon设备接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onSearchBeacons")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("complete")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("argv")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//回调函数，可以数组形式取得该商家注册的在周边的相关设备列表")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"43"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"界面操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#界面操作","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("界面操作")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"44"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"关闭当前网页窗口接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关闭当前网页窗口接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("关闭当前网页窗口接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[this._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("closeWindow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"45"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"批量隐藏功能按钮接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#批量隐藏功能按钮接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("批量隐藏功能按钮接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hideMenuItems")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  menuList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 要隐藏的菜单项，只能隐藏“传播类”和“保护类”按钮，所有menu项见附录3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"46"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"批量显示功能按钮接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#批量显示功能按钮接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("批量显示功能按钮接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("showMenuItems")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  menuList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 要显示的菜单项，所有menu项见附录3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"47"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"隐藏所有非基础按钮接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#隐藏所有非基础按钮接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("隐藏所有非基础按钮接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hideAllNonBaseMenuItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// “基本类”按钮详见附录3")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"48"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"显示所有功能按钮接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#显示所有功能按钮接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("显示所有功能按钮接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[this._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("showAllNonBaseMenuItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"49"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"微信扫一扫"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微信扫一扫","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("微信扫一扫")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"50"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"调起微信扫一扫接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调起微信扫一扫接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("调起微信扫一扫接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scanQRCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  needResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认为0，扫描结果由微信处理，1则直接返回扫描结果，")]),t._v("\n  scanType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qrCode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"barCode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可以指定扫二维码还是一维码，默认二者都有")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resultStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当needResult 为 1 时，扫码返回的结果")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"51"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"微信小店"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微信小店","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("微信小店")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"52"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"跳转微信商品页接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#跳转微信商品页接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("跳转微信商品页接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("openProductSpecificView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  productId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 商品id")]),t._v("\n  viewType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0.默认值，普通商品详情页1.扫一扫商品详情页2.小店商品详情页")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"53"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"微信卡券"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微信卡券","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("微信卡券")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"54"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"获取api-ticket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取api-ticket","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("获取api_ticket")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[s("p",[this._v("此用于卡券接口签名的api_ticket与步骤三中通过config接口注入权限验证配置使用的jsapi_ticket不同。")])]),this._v(" "),s("li",[s("p",[this._v("由于获取api_ticket 的api 调用次数非常有限，频繁刷新api_ticket 会导致api调用受限，影响自身业务，开发者需在自己的服务存储与更新api_ticket。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("接口调用请求说明")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("http请求方式: GET\nhttps://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=ACCESS_TOKEN&type=wx_card")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("参数说明")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"table-wrp"},[a("table",[a("thead",[a("tr",[a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("是否必须")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("access_token")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("接口调用凭证")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("返回数据")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("数据示例：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"errcode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"errmsg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ok"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ticket"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bxLdikRXVbTPdHSM05e5u5sUoXNKdvsdshFKA"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"expires_in"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7200")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"table-wrp"},[a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("errcode")]),t._v(" "),a("td",[t._v("错误码")])]),t._v(" "),a("tr",[a("td",[t._v("errmsg")]),t._v(" "),a("td",[t._v("错误信息")])]),t._v(" "),a("tr",[a("td",[t._v("ticket")]),t._v(" "),a("td",[t._v("api_ticket，卡券接口中签名所需凭证")])]),t._v(" "),a("tr",[a("td",[t._v("expires_in")]),t._v(" "),a("td",[t._v("有效时间")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"55"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"拉取适用卡券列表并获取用户选择信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拉取适用卡券列表并获取用户选择信息","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("拉取适用卡券列表并获取用户选择信息")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chooseCard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  shopId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 门店Id")]),t._v("\n  cardType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 卡券类型")]),t._v("\n  cardId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 卡券Id")]),t._v("\n  timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 卡券签名时间戳")]),t._v("\n  nonceStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 卡券签名随机串")]),t._v("\n  signType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 签名方式，默认'SHA1'")]),t._v("\n  cardSign"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 卡券签名")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" cardList"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户选中的卡券列表信息")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"table-wrp"},[a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("示例值")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("shopId")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("string(24)")]),t._v(" "),a("td",[t._v("1234")]),t._v(" "),a("td",[t._v("门店ID。shopID用于筛选出拉起带有指定location_list(shopID)的卡券列表，非必填。")])]),t._v(" "),a("tr",[a("td",[t._v("cardType")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("string(24)")]),t._v(" "),a("td",[t._v("GROUPON")]),t._v(" "),a("td",[t._v("卡券类型，用于拉起指定卡券类型的卡券列表。当cardType为空时，默认拉起所有卡券的列表，非必填。")])]),t._v(" "),a("tr",[a("td",[t._v("cardId")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("string(32)")]),t._v(" "),a("td",[t._v("p1Pj9jr90_SQRaVqYI239Ka1erk")]),t._v(" "),a("td",[t._v("卡券ID，用于拉起指定cardId的卡券列表，当cardId为空时，默认拉起所有卡券的列表，非必填。")])]),t._v(" "),a("tr",[a("td",[t._v("timestamp")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("string(32)")]),t._v(" "),a("td",[t._v("14300000000")]),t._v(" "),a("td",[t._v("时间戳。")])]),t._v(" "),a("tr",[a("td",[t._v("nonceStr")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("string(32)")]),t._v(" "),a("td",[t._v("sduhi123")]),t._v(" "),a("td",[t._v("随机字符串。")])]),t._v(" "),a("tr",[a("td",[t._v("signType")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("string(32)")]),t._v(" "),a("td",[t._v("SHA1")]),t._v(" "),a("td",[t._v("签名方式，目前仅支持SHA1")])]),t._v(" "),a("tr",[a("td",[t._v("cardSign")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("string(64)")]),t._v(" "),a("td",[t._v("abcsdijcous123")]),t._v(" "),a("td",[t._v("签名。")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("cardSign")]),this._v(" 详见附录4。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("特别提醒")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"56"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"批量添加卡券接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#批量添加卡券接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("批量添加卡券接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addCard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    cardId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    cardExt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要添加的卡券列表")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" cardList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加的卡券列表信息")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("cardExt")]),this._v(" 详见附录4，开发者若调用接口报签名错误、已领完等异常情况可以参照："),s("a",{attrs:{href:"http://mp.weixin.qq.com/s/WhYpWmfuhUBw2wseTXdt2A",target:"_blank"}},[this._v("卡券签名错误排查方法")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"57"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"查看微信卡包中的卡券接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看微信卡包中的卡券接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("查看微信卡包中的卡券接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("openCard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    cardId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要打开的卡券列表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"58"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"微信支付"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微信支付","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("微信支付")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"59"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"发起一个微信支付请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发起一个微信支付请求","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("发起一个微信支付请求")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chooseWXPay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符")]),t._v("\n  nonceStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 支付签名随机串，不长于 32 位")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\\*\\*\\*）")]),t._v("\n  signType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'")]),t._v("\n  paySign"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 支付签名")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 支付成功后的回调函数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("微信支付开发文档："),s("a",{attrs:{href:"https://pay.weixin.qq.com/wiki/doc/api/index.html",target:"_blank"}},[this._v("https://pay.weixin.qq.com/wiki/doc/api/index.html")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"60"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"快速输入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速输入","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("快速输入")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"61"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"共享收货地址接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#共享收货地址接口","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("共享收货地址接口")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("openAddress")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" userName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 收货人姓名")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" postalCode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("postalCode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 邮编")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" provinceName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("provinceName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 国标收货地址第一级地址（省）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" cityName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cityName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 国标收货地址第二级地址（市）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" countryName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("countryName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 国标收货地址第三级地址（国家）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" detailInfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detailInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 详细收货地址信息")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" nationalCode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nationalCode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 收货地址国家码")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" telNumber "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("telNumber"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 收货人手机号码")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("收货人姓名")]),t._v(" "),a("li",[t._v("地区，省市区三级")]),t._v(" "),a("li",[t._v("详细地址")]),t._v(" "),a("li",[t._v("邮编")]),t._v(" "),a("li",[t._v("联系电话\n其中，地区对应是国标三级地区码，如“广东省-广州市-天河区”，对应的邮编是是510630。详情参考链接：http://www.stats.gov.cn/tjsj/tjbz/xzqhdm/201401/t20140116_501070.html")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"62"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"附录1-JS-SDK使用权限签名算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附录1-JS-SDK使用权限签名算法","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("附录1-JS-SDK使用权限签名算法")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("jsapi_ticket")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[s("p",[this._v("参考以下文档获取access_token（有效期7200秒，开发者必须在自己的服务全局缓存access_token）：https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Get_access_token.html")])]),this._v(" "),s("li",[s("p",[this._v("用第一步拿到的access_token 采用http GET方式请求获得jsapi_ticket（有效期7200秒，开发者必须在自己的服务全局缓存jsapi_ticket）：https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=ACCESS_TOKEN&type=jsapi")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"errcode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"errmsg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ok"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ticket"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bxLdikRXVbTPdHSM05e5u5sUoXNKd8-41ZO3MhKoyN5OfkWITDGgnr2fwJ0m9E8NYzWKVZvdVtaUgWvsdshFKA"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"expires_in"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7200")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("签名算法")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("noncestr=Wm3WZYTPz0wzccnW\njsapi_ticket=sM4AOVdWfPE4DxkXGEs8VMCPGGVi4C3VM0P37wVUCFvkVAy_90u5h9nbSlYy3-Sl-HhTdfl2fzFy1AOcHKP7qg\ntimestamp=1414587457\nurl=http://mp.weixin.qq.com?params=value\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("jsapi_ticket=sM4AOVdWfPE4DxkXGEs8VMCPGGVi4C3VM0P37wVUCFvkVAy_90u5h9nbSlYy3-Sl-HhTdfl2fzFy1AOcHKP7qg&noncestr=Wm3WZYTPz0wzccnW&timestamp=1414587457&url=http://mp.weixin.qq.com?params=value\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("0f9de62fce790f9a083d5c99e95740ceb90c27ed\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[s("p",[this._v("签名用的noncestr和timestamp必须与wx.config中的nonceStr和timestamp相同。")])]),this._v(" "),s("li",[s("p",[this._v("签名用的url必须是调用JS接口页面的完整URL。")])]),this._v(" "),s("li",[s("p",[this._v("出于安全考虑，开发者必须在服务器端实现签名的逻辑。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"63"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"附录2-所有JS接口列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附录2-所有JS接口列表","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("附录2-所有JS接口列表")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("版本 1.6.0 接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"64"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"附录3-所有菜单项列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附录3-所有菜单项列表","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("附录3-所有菜单项列表")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("基本类")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("传播类")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("保护类")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v('一些特殊公众号: "menuItem:share:brand"\n'),s("span",{attrs:{id:"65"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"附录4-卡券扩展字段及签名生成算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附录4-卡券扩展字段及签名生成算法","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("附录4-卡券扩展字段及签名生成算法")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("JSSDK使用者请读这里，JSAPI用户可以跳过")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("卡券 api_ticket")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("2.用第一步拿到的access_token 采用http GET方式请求获得卡券 api_ticket（有效期7200秒，开发者必须在自己的服务全局缓存卡券 api_ticket）："),s("a",{attrs:{href:"https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=ACCESS_TOKEN&type=wx_card",target:"_blank"}},[this._v("https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=ACCESS_TOKEN&type=wx_card")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("卡券扩展字段cardExt说明")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"table-wrp"},[a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),t._v(" "),a("th",[t._v("是否必填")]),t._v(" "),a("th",[t._v("是否参与签名")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("指定的卡券code码，只能被领一次。自定义code模式的卡券必须填写，非自定义code和预存code模式的卡券不必填写。详情见： 是否自定义code码")])]),t._v(" "),a("tr",[a("td",[t._v("openid")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("指定领取者的openid，只有该用户能领取。bind_openid字段为true的卡券必须填写，bind_openid字段为false不必填写。")])]),t._v(" "),a("tr",[a("td",[t._v("timestamp")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("时间戳，商户生成从1970年1月1日00:00:00至今的秒数,即当前的时间,且最终需要转换为字符串形式;由商户生成后传入,不同添加请求的时间戳须动态生成，若重复将会导致领取失败！。")])]),t._v(" "),a("tr",[a("td",[t._v("nonce_str")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("随机字符串，由开发者设置传入， 加强安全性（若不填写可能被重放请求） 。随机字符串，不长于32位。推荐使用大小写字母和数字，不同添加请求的nonce须动态生成，若重复将会导致领取失败。")])]),t._v(" "),a("tr",[a("td",[t._v("fixed_begintimestamp")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("卡券在第三方系统的实际领取时间，为东八区时间戳（UTC+8,精确到秒）。当卡券的有效期类型为 DAT E_TYPE_FIX_TERM时专用，标识卡券的实际生效时间，用于解决商户系统内起始时间和领取时间不同步的问题。")])]),t._v(" "),a("tr",[a("td",[t._v("outer_str")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("否")]),t._v(" "),a("td",[t._v("领取渠道参数，用于标识本次领取的渠道值。")])]),t._v(" "),a("tr",[a("td",[t._v("signature")]),t._v(" "),a("td",[t._v("是")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("签名，商户将接口列表中的参数按照指定方式进行签名,签名方式使用SHA1,具体签名方案参见下文;由商户按照规范签名后传入。")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("签名说明")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[s("p",[this._v("将 api_ticket、timestamp、card_id、code、openid、nonce_str的value值进行字符串的字典序排序。")])]),this._v(" "),s("li",[s("p",[this._v("将所有参数字符串拼接成一个字符串进行sha1加密，得到signature。")])]),this._v(" "),s("li",[s("p",[this._v("signature中的timestamp，nonce字段和card_ext中的timestamp，nonce_str字段必须保持一致。")])]),this._v(" "),s("li",[s("p",[this._v("code=1434008071，timestamp=1404896688，card_id=pjZ8Yt1XGILfi-FUsewpnnolGgZk， api_ticket=ojZ8YtyVyr30HheH3CM73y7h4jJE ，nonce_str=123 则signature=sha1(12314048966881434008071ojZ8YtyVyr30HheH3CM73y7h4jJEpjZ8Yt1XGILfi-FUsewpnnolGgZk)=f137ab68b7f8112d20ee528ab6074564e2796250。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("强烈建议开发者使用卡券资料包中的签名工具SDK进行签名或使用debug工具进行校验：")]),this._v(" "),s("a",{attrs:{href:"http://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=cardsign",target:"_blank"}},[this._v("http://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=cardsign")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("卡券签名cardSign说明")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"66"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"附录5-常见错误及解决方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附录5-常见错误及解决方法","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("附录5-常见错误及解决方法")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[a("p",[t._v("invalid url domain当前页面所在域名与使用的appid没有绑定，请确认正确填写绑定的域名，仅支持80（http）和443（https）两个端口，因此不需要填写端口号（一个appid可以绑定三个有效域名，见 ]"),a("a",{attrs:{href:"#2"}},[t._v("目录1.1.1")]),t._v("）。")])]),t._v(" "),a("li",[a("p",[t._v("invalid signature签名错误。建议按如下顺序检查：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("确认签名算法正确，可用"),a("a",{attrs:{href:"http://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=jsapisign",target:"_blank"}},[t._v("http://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=jsapisign")]),t._v(" 页面工具进行校验。")])]),t._v(" "),a("li",[a("p",[t._v("确认config中nonceStr（js中驼峰标准大写S）, timestamp与用以签名中的对应noncestr, timestamp一致。")])]),t._v(" "),a("li",[a("p",[t._v("确认url是页面完整的url(请在当前页面alert(location.href.split('#')[0])确认)，包括"),a("code",[t._v("'http(s)://'")]),t._v("部分，以及'？'后面的GET参数部分,但不包括'#'hash后面的部分。")])]),t._v(" "),a("li",[a("p",[t._v("确认 config 中的 appid 与用来获取 jsapi_ticket 的 appid 一致。")])]),t._v(" "),a("li",[a("p",[t._v("确保一定缓存access_token和jsapi_ticket。")])]),t._v(" "),a("li",[a("p",[t._v("确保你获取用来签名的url是动态获取的，动态页面可参见实例代码中php的实现方式。如果是html的静态页面在前端通过ajax将url传到后台签名，前端需要用js获取当前页面除去'#'hash部分的链接（可用location.href.split('#')[0]获取,而且需要encodeURIComponent），因为页面一旦分享，微信客户端会在你的链接末尾加入其它参数，如果不是动态获取当前链接，将导致分享后的页面签名失败。")])])])]),t._v(" "),a("li",[a("p",[t._v("the permission value is offline verifying这个错误是因为config没有正确执行，或者是调用的JSAPI没有传入config的jsApiList参数中。建议按如下顺序检查：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("确认config正确通过。")])]),t._v(" "),a("li",[a("p",[t._v("如果是在页面加载好时就调用了JSAPI，则必须写在wx.ready的回调中。")])]),t._v(" "),a("li",[a("p",[t._v("确认config的jsApiList参数包含了这个JSAPI。")])])])]),t._v(" "),a("li",[a("p",[t._v("permission denied该公众号没有权限使用这个JSAPI，或者是调用的JSAPI没有传入config的jsApiList参数中（部分接口需要认证之后才能使用）。")])]),t._v(" "),a("li",[a("p",[t._v("function not exist当前客户端版本不支持该接口，请升级到新版体验。")])]),t._v(" "),a("li",[a("p",[t._v("为什么6.0.1版本config:ok，但是6.0.2版本之后不ok（因为6.0.2版本之前没有做权限验证，所以config都是ok，但这并不意味着你config中的签名是OK的，请在6.0.2检验是否生成正确的签名以保证config在高版本中也ok。）")])]),t._v(" "),a("li",[a("p",[t._v("在iOS和Android都无法分享（请确认公众号已经认证，只有认证的公众号才具有分享相关接口权限，如果确实已经认证，则要检查监听接口是否在wx.ready回调函数中触发）")])]),t._v(" "),a("li",[a("p",[t._v("服务上线之后无法获取jsapi_ticket，自己测试时没问题。（因为access_token和jsapi_ticket必须要在自己的服务器缓存，否则上线后会触发频率限制。请确保一定对token和ticket做缓存以减少2次服务器请求，不仅可以避免触发频率限制，还加快你们自己的服务速度。目前为了方便测试提供了1w的获取量，超过阀值后，服务将不再可用，请确保在服务上线前一定全局缓存access_token和jsapi_ticket，两者有效期均为7200秒，否则一旦上线触发频率限制，服务将不再可用）。")])]),t._v(" "),a("li",[a("p",[t._v("uploadImage怎么传多图（目前只支持一次上传一张，多张图片需等前一张图片上传之后再调用该接口）")])]),t._v(" "),a("li",[a("p",[t._v("没法对本地选择的图片进行预览（chooseImage接口本身就支持预览，不需要额外支持）")])]),t._v(" "),a("li",[a("p",[t._v("通过a链接(例如先通过微信授权登录)跳转到b链接，invalid signature签名失败（后台生成签名的链接为使用jssdk的当前链接，也就是跳转后的b链接，请不要用微信登录的授权链接进行签名计算，后台签名的url一定是使用jssdk的当前页面的完整url除去'#'部分）")])]),t._v(" "),a("li",[a("p",[t._v("出现config:fail错误（这是由于传入的config参数不全导致，请确保传入正确的appId、timestamp、nonceStr、signature和需要使用的jsApiList）")])]),t._v(" "),a("li",[a("p",[t._v("如何把jsapi上传到微信的多媒体资源下载到自己的服务器（请参见文档中uploadVoice和uploadImage接口的备注说明）")])]),t._v(" "),a("li",[a("p",[t._v("Android通过jssdk上传到微信服务器，第三方再从微信下载到自己的服务器，会出现杂音（微信团队已经修复此问题，目前后台已优化上线）")])]),t._v(" "),a("li",[a("p",[t._v("绑定父级域名，是否其子域名也是可用的（是的，合法的子域名在绑定父域名之后是完全支持的）")])]),t._v(" "),a("li",[a("p",[t._v("在iOS微信6.1版本中，分享的图片外链不显示，只能显示公众号页面内链的图片或者微信服务器的图片，已在6.2中修复")])]),t._v(" "),a("li",[a("p",[t._v("是否需要对低版本自己做兼容（jssdk都是兼容低版本的，不需要第三方自己额外做更多工作，但有的接口是6.0.2新引入的，只有新版才可调用）")])]),t._v(" "),a("li",[a("p",[t._v("该公众号支付签名无效，无法发起该笔交易（请确保你使用的jweixin.js是官方线上版本，不仅可以减少用户流量，还有可能对某些bug进行修复，拷贝到第三方服务器中使用，官方将不对其出现的任何问题提供保障，具体支付签名算法可参考 JSSDK微信支付一栏）")])]),t._v(" "),a("li",[a("p",[t._v("目前Android微信客户端不支持pushState的H5新特性，所以使用pushState来实现web app的页面会导致签名失败，此问题已在Android6.2中修复")])]),t._v(" "),a("li",[a("p",[t._v("uploadImage在chooseImage的回调中有时候Android会不执行，Android6.2会解决此问题，若需支持低版本可以把调用uploadImage放在setTimeout中延迟100ms解决")])]),t._v(" "),a("li",[a("p",[t._v("require subscribe错误说明你没有订阅该测试号，该错误仅测试号会出现")])]),t._v(" "),a("li",[a("p",[t._v("getLocation返回的坐标在openLocation有偏差，因为getLocation返回的是gps坐标，openLocation打开的腾讯地图为火星坐标，需要第三方自己做转换，6.2版本开始已经支持直接获取火星坐标")])]),t._v(" "),a("li",[a("p",[t._v('查看公众号（未添加）: "menuItem:addContact"不显示，目前仅有从公众号传播出去的链接才能显示，来源必须是公众号')])]),t._v(" "),a("li",[a("p",[t._v("ICP备案数据同步有一天延迟，所以请在第二日绑定")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"67"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"附录6-DEMO页面和示例代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附录6-DEMO页面和示例代码","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("附录6-DEMO页面和示例代码")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("DEMO页面：")]),this._v(" "),s("a",{attrs:{href:"https://www.weixinsxy.com/jssdk/",target:"_blank"}},[this._v("https://www.weixinsxy.com/jssdk/")]),this._v(" "),s("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz/PiajxSqBRaEIQxibpLbyuSK39dMUJfWKTT3w5O5mich0nbKnpPnpl0QzuWuncBtibiaZQlmH1MGf3HoicWNIeaV4dXUg/0?wx_fmt=png",alt:"","data-width":"250","data-ratio":"0.988"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("示例代码：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("a",{attrs:{href:"http://demo.open.weixin.qq.com/jssdk/sample.zip",target:"_blank"}},[this._v("http://demo.open.weixin.qq.com/jssdk/sample.zip")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{attrs:{id:"68"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"附录7-问题反馈"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附录7-问题反馈","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("strong",[this._v("附录7-问题反馈")])])}],!1,null,null,null);s.default=e.exports}}]);